:Автор: OSGeo-Live
:Автор: Micha Silver
:Рецензент: Cameron Shorter, LISAsoft
:Версия: osgeo-live6.0
:Лицензия: Creative Commons Attribution-ShareAlike 3.0 Unported  (CC BY-SA 3.0)

********************************************************************************
Быстрый запуск OSGeo-Live в виртуальной машине 
********************************************************************************

Это руководство описывает один из способов запуска OSGeo-Live в виртуальной машине VirtualBox. Для 
остальных способов проследуйте по ссылке из "См. также".

Преимущества виртуальных машин
--------------------------------------------------------------------------------

* Работать с виртуальной машиной зачастую гораздо быстрее, чем с DVD, а установка практически такая же, как и на хост-машину.

* Все изменения конфигурации, обновления программного обеспечения и сохранения файлов являются постоянными, как и на любом "обычном" компьютере. Поэтому:

 * Вы можете настроить и обновить систему
 * Вы можете сохранить вашу работу в виртуальной машине
 * Вы можете установить дополнительное программное обеспечение
 
* Вы можете сделать резервную копию вашей установленной вируальной машины.

Системные требования
--------------------------------------------------------------------------------

* ОЗУ: 2 GB и выше. Xubuntu хорошо работает и с 1 Гб оперативной памяти, но вы должны будете оставить примерно такой же объем ОЗУ для хост-системы. Таким образом, для бесперебойной работы потребуются 2 GB.
* Свободное место на жестком диске: файл виртуального диска (vmdk) с:  `live.osgeo.org <http://live.osgeo.org/en/download.html>`_  занимает почти 10 GB. А так как вам понадобится больше свободно места для работы в витуальной машине, то рекомендуемый объем свободного места — 20 GB.
* Процессор: любой, однако процессор, поддерживающий "Virtualization Technology", будет работать быстрее. Вы можете проверить свой процессор `здесь <http://www.intel.com/support/processors/sb/cs-030729.htm>`_.

Большинство компьютеров не старше 4-5 лет соответствуют данным требованиям.

Инструкция
--------------------------------------------------------------------------------

**Загрузка**

Загрузите и установите`VirtualBox <http://www.virtualbox.org/>`_  для вашего типа операционной системы. В Windows запустите Installer. В дистрибутивах Linux на базе Ubuntu выполните следующую команду:

  ``apt-get install virtualbox-ose``

Также вы можете скачать OSGeo Virtual disk (vmdk) с `live.osgeo.org <http://live.osgeo.org/en/download.html>`_. Щёлкните на кнопку "Download virtual machine". Затем распакуйте загруженный файл (можете использовать `7zip <http://www.7-zip.org>`_ ).


**Создание виртуальной машины**

Запустите VirtualBox и нажмите на кнопку *Создать*, затем нажмите *Вперёд*.

  .. image:: ../../images/screenshots/800x600/virtualbox.png
         :scale: 50 %

Введите имя, например "OSGeo-Live", выберите операционную систему Linux, версия — Ubuntu.

  .. image:: ../../images/screenshots/800x600/virtualbox_select_name.png
         :scale: 70 %

Установите размер основной памяти 1024 MB (или больше, если у вашего компьютера более 4GB ОЗУ).

  .. image:: ../../images/screenshots/800x600/vmdk_memory.jpg
              :scale: 65 %

Для продолжения нажмите "Вперёд". Выберите "Использовать существующий жёсткий диск". Нажмите на кнопку обзора (иконка в виде папки) и укажите путь, куда вы сохранили *osgeo-live-vm-6.0.vmdk*. Выберите этот файл, нажмите "Открыть", затем "Создать".

  .. image:: ../../images/screenshots/800x600/vmdk_disk.jpg
                   :scale: 65 %

После того, как виртуальная машина будет создана, нажмите кнопку "Свойства". В пункте меню "Общие" выберите вкладку "Дополнительно", и для мини-тулбаре отметьте "Расположить сверху экрана".

  .. image:: ../../images/screenshots/800x600/vmdk_general_advanced.jpg
                   :scale: 65 %

Откройте пункт "Дисплей" и установите значение видео-памяти равным 32 или 64 MB.

  .. image:: ../../images/screenshots/800x600/vmdk_display.jpg
                   :scale: 65 %

Далее перейдите в пункт меню "Общие папки", выберите "Добавить папку" (иконка с зеленым "плюсом" на папке справа). Выберите папку на локальной машине, которую вы бы хотели сделать доступной из виртуальной машины.

 .. image:: ../../images/screenshots/800x600/vmdk_shared_folders.jpg
                      :scale: 65 %

После того, как будут указаны "Путь к папке" и "Имя папки", нажмите OK и еще раз OK для того, чтобы закончить настройку параметров и закрыть окно свойств.


**Запуск виртуальной машины**

Теперь можете запустить виртуальную машину, нажав кнопку "Старт" (с зелёной стрелкой).

После того, как OSGeo-Live загрузится, вы можете установить "Дополнения гостевой ОС" в VirtualBox, чтобы улучшить производительность видео и включить возможность просматривать общие папки, параметры которой задали выше. Дополнения гостевой ОС обычно идут в виде ISO-образа вместе с VirtualBox, но они не лицензированы в качестве свободного и открытого программного обеспечения. ISO-образ монтируется в виртуальную машину в CD-привод, Установка будет производиться с него. Ниже пример, как это сделать.

В окне VirtualBox откройте меню :menuselection:`Устройства` и выберите :menuselection:`Установить Дополнения гостевой ОС`. После этого ISO-образ смонтируется в CD-привод виртуальной машины OSGeo-Live.

  .. image:: ../../images/screenshots/800x600/vmdk_guest_additions.jpg
                        :scale: 80 %

После этого откройте терминал и выполните следующие команды:

``user@osgeolive:~$ sudo apt-get install linux-headers-`uname -r```

``user@osgeolive:~$ cd /media/VBOXADDITIONS_4.1.18_78361/``

``user@osgeolive:/media/VBOXADDITIONS_4.1.18_78361$ sudo ./VBoxLinuxAdditions.run``

Немного подождите, пока закончится установка. После перезагрузки у вас появится возможность работать в полноэкранном режиме и подключать общие папки. В предыдущем примере мы определили путь к общей папке на локальном компьютере и присвоили ей имя "GIS" в свойствах виртуальной машины. Чтобы примонтировать её в виртуальной машине, откройте терминал и выполните:

``user@osgeolive:~$ mkdir GIS``

``user@osgeolive:~$ sudo mount -t vboxsf -o uid=user,rw GIS /home/user/GIS``

После этого файлы, которые вы поместите в общую папку на локальной машине, будут также доступны в виртуальной машине в папке "GIS" в домашней директории пользователя.

См. также:
--------------------------------------------------------------------------------
 * Вики-сайт OSGeo: 
        `Другие методы создания виртуальной машины <http://wiki.osgeo.org/wiki/Live_GIS_Virtual_Machine>`_

 * :doc:`osgeolive_quickstart`
 * :doc:`osgeolive_install_quickstart`
 * :doc:`usb_quickstart`

