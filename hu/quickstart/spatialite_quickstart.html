
<!DOCTYPE html>

<html lang="hu">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>SpatiaLite gyorstalpaló &#8212; OSGeoLive 15.0 Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/overview.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/../_themes/overview/static/overview.css" />
    <script data-url_root="../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Tárgymutató" href="../genindex.html" />
    <link rel="search" title="Keresés" href="../search.html" />
    <link rel="copyright" title="Minden jog fenntartva" href="../copyright.html" />
    <link rel="next" title="Marble" href="../overview/marble_overview.html" />
    <link rel="prev" title="SpatiaLite" href="../overview/spatialite_overview.html" />
	<script type="text/javascript" src="../../_static/osgeolive.js"></script>


  </head><body>

        
        
    <div class="header">
	<div class="banner"><a href="http://live.osgeo.org/"><img src="../../_images/osgeolive-banner.png"></a></div>
        <div class="nowrap">
            <ul id="top-nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../overview/overview.html">Contents</a></li>
              <li><a href="../download.html">Download</a></li>
              <li><a href="../metrics.html">Metrics</a></li>
              <li><a href="../sponsors.html">Sponsors</a></li>
              <li><a href="../contact.html">Contact Us</a></li>
            </ul>
        </div>
    </div>
    </div>
        


    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>

  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <a class="reference external image-reference" href="http://www.gaia-gis.it/gaia-sins/"><img alt="../../_images/logo_spatialite.png" class="align-right" src="../../_images/logo_spatialite.png" /></a>
<section id="spatialite-quickstart">
<h1>SpatiaLite gyorstalpaló<a class="headerlink" href="#spatialite-quickstart" title="Hivatkozás erre a fejezetcímre">¶</a></h1>
<p>A SpatiLite egy SQLite adatbázis motor hozzáadott térbeli függvényekkel.</p>
<p>Az SQLite egy egyszerű, robusztus, könnyen használható és könnyűsúlyú adatbázis kezelő rendszer (RDBMS). Minden SQLite adatbázis egyszerűen egy fájl. Szabadon másolhatja, tömörítheti átviheti Windows, Linux, MacOs, stb. között.</p>
<p>Ez a gyorstalpaló leírja,hogyan nyithatunk meg egy spatialite adatbázist a grafikus felületről és a parancssorból. Néhány SQL lekérdezést is bemutatunk.</p>
<div class="contents local topic" id="contents">
<p class="topic-title">Tartalom</p>
<ul class="simple">
<li><p><a class="reference internal" href="#start-spatialite-and-load-a-database" id="id1">Spatialite elindítása és egy adatbázis betöltése</a></p></li>
<li><p><a class="reference internal" href="#run-an-sql-query" id="id2">SQL lekérdezés futtatása</a></p></li>
<li><p><a class="reference internal" href="#run-spatialite-from-the-command-line" id="id3">Spatialite futtatása a parancssorból</a></p></li>
<li><p><a class="reference internal" href="#create-a-new-spatialite-database-and-load-a-shapefile" id="id4">Új spatialite adatbázis létrehozása és shape fájl betöltése</a></p></li>
<li><p><a class="reference internal" href="#things-to-try" id="id5">Kipróbálandó dolgok</a></p></li>
<li><p><a class="reference internal" href="#what-next" id="id6">Mi a következő?</a></p></li>
</ul>
</div>
<section id="start-spatialite-and-load-a-database">
<h2><a class="toc-backref" href="#id1">Spatialite elindítása és egy adatbázis betöltése</a><a class="headerlink" href="#start-spatialite-and-load-a-database" title="Hivatkozás erre a fejezetcímre">¶</a></h2>
<p>Spatialite-gui egy grafikus felületet biztosít egy spatialite adatbázis megtekintéséhez és karbantartásához. Könnyen megnézheti az adattáblák szerkezetét és tartalmát egérműveletekkel, melyek közül sok SQL lekérdezést hoz létre vagy készítse el saját SQL lekérdezéseit.</p>
<ol class="arabic">
<li><p>Nyissa meg a Spatialite grafikus felületét a <span class="menuselection">Geospatial-&gt;Databases-&gt;Spatialite GUI</span> kiválasztásával</p>
</li>
<li><p>Válassza a menüből <span class="menuselection">File-&gt;Connecting an existing SQLite DB</span></p></li>
<li><p>Tallózzon a <code class="file docutils literal notranslate"><span class="pre">/home/user/data/spatialite</span></code> könyvtárba és válassza a <code class="file docutils literal notranslate"><span class="pre">trento.sqlite</span></code> fájlt.</p>
<a class="reference internal image-reference" href="../../_images/spatialite-gui-trento.png"><img alt="../../_images/spatialite-gui-trento.png" src="../../_images/spatialite-gui-trento.png" style="width: 560.0px; height: 433.29999999999995px;" /></a>
</li>
<li><p>Jobb kattintás a MunicipalHallsView táblán és válassza a „Show Columns” opciót</p>
<a class="reference internal image-reference" href="../../_images/spatialite-gui-columns.png"><img alt="../../_images/spatialite-gui-columns.png" src="../../_images/spatialite-gui-columns.png" style="width: 560.0px; height: 433.29999999999995px;" /></a>
</li>
<li><p>Megfigyelheti, hogy a képernyő három részre bomlik:</p>
<ul class="simple">
<li><p>A baloldali panel az adatbázis hierarchiát jeleníti meg, mint a táblák listája és oszlopok a táblában. Jobb gombbal kattintson egy elemre a baloldali panelben az általános adatbázis műveletek listájához.</p></li>
<li><p>A jobb-felső panel a kiválasztott művelethez tartozó SQL-t mutatja. Beviheti a saját testreszabott SQL utasítását ebbe a panelbe.</p></li>
<li><p>A jobb-alsó panel az SQL lekérdezés eredményét mutatja.</p></li>
</ul>
</li>
<li><p>Jobb kattintás a MunicipalHalls táblán és válassza az „Edit table rows”-t. Vegye észre az SQL lekérdezést, melyet a program létrehozott a jobb-felső panelben és az eredményeket a jobb-alsóban:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">ROWID</span><span class="p">,</span> <span class="s2">&quot;PK_UID&quot;</span><span class="p">,</span> <span class="s2">&quot;AREA&quot;</span><span class="p">,</span> <span class="s2">&quot;PERIMETER&quot;</span><span class="p">,</span> <span class="s2">&quot;COMU&quot;</span><span class="p">,</span> <span class="s2">&quot;Geometry&quot;</span>
    <span class="n">FROM</span> <span class="s2">&quot;MunicipalHalls&quot;</span>
    <span class="n">ORDER</span> <span class="n">BY</span> <span class="n">ROWID</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="run-an-sql-query">
<h2><a class="toc-backref" href="#id2">SQL lekérdezés futtatása</a><a class="headerlink" href="#run-an-sql-query" title="Hivatkozás erre a fejezetcímre">¶</a></h2>
<ol class="arabic">
<li><p>Most csavarjunk egyet az SQL mondatunkon, hogy a NOME és (hosszúság, szélesség) adatokat kapjuk csak akkor, ha a NOME_PROV mező tartalmazza a „BRESCIA”-t, most a MunicipalHallsView-t használva. A jobb-felső SQL panelba írja be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">NOME</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="n">Geometry</span><span class="p">)</span> <span class="n">AS</span> <span class="n">Longitude</span><span class="p">,</span> <span class="n">Y</span><span class="p">(</span><span class="n">Geometry</span><span class="p">)</span> <span class="n">AS</span> <span class="n">Latitude</span>
    <span class="n">FROM</span> <span class="s2">&quot;MunicipalHallsView&quot;</span>
    <span class="n">WHERE</span> <span class="n">NOME_PROV</span> <span class="n">LIKE</span> <span class="s2">&quot;BRESCIA&quot;</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p>Kattintson az „Execute SQL” gombra a jobb oldalon és az eredményt jobb alsó részen láthatja.</p>
<a class="reference internal image-reference" href="../../_images/spatialite-gui-select.png"><img alt="../../_images/spatialite-gui-select.png" src="../../_images/spatialite-gui-select.png" style="width: 560.0px; height: 433.29999999999995px;" /></a>
</li>
</ol>
</section>
<section id="run-spatialite-from-the-command-line">
<h2><a class="toc-backref" href="#id3">Spatialite futtatása a parancssorból</a><a class="headerlink" href="#run-spatialite-from-the-command-line" title="Hivatkozás erre a fejezetcímre">¶</a></h2>
<p>Azok a felhasználók,akiknek szkriptekre vagy a lekérdezések automatizálására van szüksége, felismerhetik a parancs sori interfész előnyeit a spatilite-vel való munkában. Ebben a példában betöltünk egy shape fájlt és a 42-es autópálya közelében lévő iskolákat keresi ki.</p>
<ol class="arabic">
<li><p>A parancssori munka megkezdése előtt egy terminál ablakot kell nyitnunk: <span class="menuselection">System Tools -&gt; LXTerminal</span>.</p></li>
<li><p>A következők beírásával nyissa meg a minta adatbázis a <strong>spatialitte</strong>-tal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">spatialite</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">spatialite</span><span class="o">/</span><span class="n">trento</span><span class="o">.</span><span class="n">sqlite</span>
</pre></div>
</div>
<p>Hasznos parancsok a parancssorból:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">help</span>
<span class="o">.</span><span class="n">tables</span>
<span class="o">.</span><span class="n">quit</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="create-a-new-spatialite-database-and-load-a-shapefile">
<h2><a class="toc-backref" href="#id4">Új spatialite adatbázis létrehozása és shape fájl betöltése</a><a class="headerlink" href="#create-a-new-spatialite-database-and-load-a-shapefile" title="Hivatkozás erre a fejezetcímre">¶</a></h2>
<ol class="arabic">
<li><p>Hozzunk létre egy új, üres spatialite adatbázist és töltsünk be két shape fájlt a north_carolina adatokból:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>user@osgeo-6:~$ spatialite test.sqlite
SpatiaLite version ..: 5.0.0    Supported Extensions:
    - &#39;VirtualShape&#39;        [direct Shapefile access]
    - &#39;VirtualDbf&#39;          [direct DBF access]
    - &#39;VirtualText&#39;         [direct CSV/TXT access]
    - &#39;VirtualGeoJSON&#39;              [direct GeoJSON access]
    - &#39;VirtualXL&#39;           [direct XLS access]
    - &#39;VirtualNetwork&#39;      [Dijkstra shortest path - obsolete]
    - &#39;RTree&#39;               [Spatial Index - R*Tree]
    - &#39;MbrCache&#39;            [Spatial Index - MBR cache]
    - &#39;VirtualFDO&#39;          [FDO-OGR interoperability]
    - &#39;VirtualBBox&#39;         [BoundingBox tables]
    - &#39;VirtualSpatialIndex&#39; [R*Tree metahandler]
    - &#39;VirtualElementary&#39;   [ElemGeoms metahandler]
    - &#39;VirtualRouting&#39;      [Dijkstra shortest path - advanced]
    - &#39;VirtualKNN&#39;  [K-Nearest Neighbors metahandler]
    - &#39;VirtualGPKG&#39; [OGC GeoPackage interoperability]
    - &#39;SpatiaLite&#39;          [Spatial SQL - OGC]
    - &#39;VirtualXPath&#39;        [XML Path Language - XPath]
PROJ version ........: Rel. 6.3.1, February 10th, 2020
GEOS version ........: 3.9.0-CAPI-1.16.2
RTTOPO version ......: 1.1.0
TARGET CPU ..........: x86_64-linux-gnu
the SPATIAL_REF_SYS table already contains some row(s)
SQLite version ......: 3.31.1
Enter &quot;.help&quot; for instructions
SQLite version 3.31.1 2020-01-27 19:55:54
Enter &quot;.help&quot; for instructions
Enter SQL statements terminated with a &quot;;&quot;
spatialite&gt;
spatialite&gt; .loadshp data/north_carolina/shape/schools_wake schools utf-8 3358
spatialite&gt; .loadshp data/north_carolina/shape/roadsmajor roads utf-8 3358
</pre></div>
</div>
<p>Figyelje meg a .loadshp parancsot: először a shape fájl az .shp kiterjesztés nélkül, utána az új spatialite tábla neve, majd a karakter kódolás és végül  a shape fájl referencia rendszerének az EPSG kódja.</p>
</li>
<li><p>Most lekérdezzük az iskolákat a 42-es autópálya közelében:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">spatialite</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="n">s</span><span class="o">.</span><span class="n">NAMESHORT</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">ADDRNUMBER</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">ADDRROOT</span>
     <span class="o">...&gt;</span> <span class="n">FROM</span> <span class="n">schools</span> <span class="n">AS</span> <span class="n">s</span><span class="p">,</span> <span class="n">roads</span> <span class="n">AS</span> <span class="n">r</span>
     <span class="o">...&gt;</span> <span class="n">WHERE</span> <span class="n">r</span><span class="o">.</span><span class="n">ROAD_NAME</span> <span class="o">=</span> <span class="s2">&quot;NC-42&quot;</span> <span class="n">AND</span>
     <span class="o">...&gt;</span> <span class="n">ST_Distance</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">Geometry</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">Geometry</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">;</span>
<span class="n">FUQUAY</span><span class="o">-</span><span class="n">VARINA</span><span class="o">|</span><span class="mi">6600</span><span class="o">|</span><span class="n">Johnson</span> <span class="n">Pond</span> <span class="n">Rd</span>
<span class="n">WILLOW</span> <span class="n">SPRINGS</span><span class="o">|</span><span class="mi">6800</span><span class="o">|</span><span class="n">Dwight</span> <span class="n">Rowland</span> <span class="n">Rd</span>
<span class="n">FUQUAY</span><span class="o">-</span><span class="n">VARINA</span><span class="o">|</span><span class="mi">109</span><span class="o">|</span><span class="n">N</span> <span class="n">Ennis</span> <span class="n">St</span>
<span class="n">LINCOLN</span> <span class="n">HEIGHTS</span><span class="o">|</span><span class="mi">307</span><span class="o">|</span><span class="n">Bridge</span> <span class="n">St</span>
</pre></div>
</div>
</li>
<li><p>Végül írjuk ki a lekérdezés eredményét a következő paranccsal egy „vesszővel elválasztott értékek” szöveg fájlba „schools_rt42.txt”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">spatialite</span><span class="o">&gt;</span> <span class="o">.</span><span class="n">mode</span> <span class="n">csv</span>
<span class="n">spatialite</span><span class="o">&gt;</span> <span class="o">.</span><span class="n">output</span> <span class="s2">&quot;schools_rt42.txt&quot;</span>
<span class="n">spatialite</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="n">s</span><span class="o">.</span><span class="n">NAMESHORT</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">ADDRNUMBER</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">ADDRROOT</span>
    <span class="o">...&gt;</span> <span class="n">FROM</span> <span class="n">schools</span> <span class="n">AS</span> <span class="n">s</span><span class="p">,</span> <span class="n">roads</span> <span class="n">AS</span> <span class="n">r</span>
    <span class="o">...&gt;</span> <span class="n">WHERE</span> <span class="n">r</span><span class="o">.</span><span class="n">ROAD_NAME</span> <span class="o">=</span> <span class="s2">&quot;NC-42&quot;</span> <span class="n">AND</span>
    <span class="o">...&gt;</span> <span class="n">ST_Distance</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">Geometry</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">Geometry</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">;</span>
<span class="n">spatialite</span><span class="o">&gt;.</span><span class="n">q</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="things-to-try">
<h2><a class="toc-backref" href="#id5">Kipróbálandó dolgok</a><a class="headerlink" href="#things-to-try" title="Hivatkozás erre a fejezetcímre">¶</a></h2>
<p>Íme néhány további kihívás kipróbálásra:</p>
<ul class="simple">
<li><p>Vizsgáljuk meg a geometriákat a spatialite-GUI-val</p></li>
<li><p>Nyissa meg és szerkessze a Spatialite rétegeket QGIS-ben</p></li>
</ul>
</section>
<section id="what-next">
<h2><a class="toc-backref" href="#id6">Mi a következő?</a><a class="headerlink" href="#what-next" title="Hivatkozás erre a fejezetcímre">¶</a></h2>
<p>A  <a class="reference external" href="https://www.gaia-gis.it/fossil/libspatialite/index">SpatiaLite projekt lap</a> egy jó kiinduló pont a Statilalite további tanulásához</p>
<p>Feltétlenül látogassa meg a <a class="reference external" href="http://www.gaia-gis.it/gaia-sins/spatialite-cookbook/index.html">Spatialite cookbook</a> oktatóanyagot.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>



        
        
<span style="font-size:85%;"><i><a href="../copyright.html">Copyright & Disclaimer</a></i></span>
        


  </body>
</html>