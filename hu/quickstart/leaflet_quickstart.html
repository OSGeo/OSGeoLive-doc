
<!DOCTYPE html>

<html lang="hu">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Leaflet gyorstalpaló &#8212; OSGeoLive 15.0 Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/overview.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/../_themes/overview/static/overview.css" />
    <script data-url_root="../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Tárgymutató" href="../genindex.html" />
    <link rel="search" title="Keresés" href="../search.html" />
    <link rel="copyright" title="Minden jog fenntartva" href="../copyright.html" />
    <link rel="next" title="deegree" href="../overview/deegree_overview.html" />
    <link rel="prev" title="Leaflet" href="../overview/leaflet_overview.html" />
	<script type="text/javascript" src="../../_static/osgeolive.js"></script>


  </head><body>

        
        
    <div class="header">
	<div class="banner"><a href="http://live.osgeo.org/"><img src="../../_images/osgeolive-banner.png"></a></div>
        <div class="nowrap">
            <ul id="top-nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../overview/overview.html">Contents</a></li>
              <li><a href="../download.html">Download</a></li>
              <li><a href="../metrics.html">Metrics</a></li>
              <li><a href="../sponsors.html">Sponsors</a></li>
              <li><a href="../contact.html">Contact Us</a></li>
            </ul>
        </div>
    </div>
    </div>
        


    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>

  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <a class="reference external image-reference" href="https://leafletjs.com"><img alt="../../_images/logo_leaflet.png" class="align-right" src="../../_images/logo_leaflet.png" /></a>
<section id="leaflet-quickstart">
<h1><a class="toc-backref" href="#id1">Leaflet gyorstalpaló</a><a class="headerlink" href="#leaflet-quickstart" title="Hivatkozás erre a fejezetcímre">¶</a></h1>
<p>A Leaflet egyJavaScript könyvtár böngésző alapú, mobil barát interaktív térképekhez. Könnyűsúlyú, mégis minden olyan funkcióval rendelkezik, amire a legtöbb fejlesztőnek szüksége van online térképekhez. A Leaflet-et az egyszerűséget, a teljesítményt és a használhatóságot szem előtt tartva készítették.</p>
<div class="contents topic" id="contents">
<p class="topic-title">Tartalom</p>
<ul class="simple">
<li><p><a class="reference internal" href="#leaflet-quickstart" id="id1">Leaflet gyorstalpaló</a></p>
<ul>
<li><p><a class="reference internal" href="#running" id="id2">Futtatás</a></p></li>
<li><p><a class="reference internal" href="#preparing-your-page" id="id3">Az oldal előkészítése</a></p></li>
<li><p><a class="reference internal" href="#setting-up-the-map" id="id4">A térkép beállítása</a></p></li>
<li><p><a class="reference internal" href="#markers-circles-and-polygons" id="id5">Szimbólumok, körök és zárt idomok</a></p></li>
<li><p><a class="reference internal" href="#working-with-popups" id="id6">Munka a felugró ablakokkal</a></p></li>
<li><p><a class="reference internal" href="#dealing-with-events" id="id7">Események kezelése</a></p></li>
<li><p><a class="reference internal" href="#what-next" id="id8">Mi a következő?</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="running">
<h2><a class="toc-backref" href="#id2">Futtatás</a><a class="headerlink" href="#running" title="Hivatkozás erre a fejezetcímre">¶</a></h2>
<p>Prior to running this quick start you should start MapProxy. On OSGeoLive this can be found under <strong>Geospatial\Web Services\MapProxy\Start MapProxy</strong>.
This will provide background tiles that will be used in this demo.</p>
<p>A példa <a class="reference external" href="http://localhost/leaflet-demo.html">megtekintése</a></p>
<div class="admonition tip">
<p class="admonition-title">Javaslat</p>
<p>Ha nem az OSGeoLive-on olvassa ezt a gyorstalpalót, akkor jobban teszi, ha az eredeti demót olvassa el itt: <a class="reference external" href="https://leafletjs.com/examples/quick-start/">https://leafletjs.com/examples/quick-start/</a>, mivel ez a demo az OSGeoLive-on a tilestache-t használja.</p>
</div>
</section>
<section id="preparing-your-page">
<h2><a class="toc-backref" href="#id3">Az oldal előkészítése</a><a class="headerlink" href="#preparing-your-page" title="Hivatkozás erre a fejezetcímre">¶</a></h2>
<p>Mielőtt bármilyen kódot írna a térképhez a következő előkészítő lépéseket kell végrehajtani az oldalán:</p>
<ul class="simple">
<li><p>Vegye be a Leaflet CSS fájlt a dokumentumának fejléc részébe</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/leaflet/leaflet.css&quot;</span> <span class="p">/&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Vegye be a Leaflet JavaScript fájlt:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;/leaflet/leaflet.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>helyezzen el egy <strong>div</strong> elemet egy egyedi <strong>id</strong>-vel, ahová a térképét akarja tenni:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;map&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Győződjön meg arról, hogy a térképet tartalmazó elemnek egy meghatározott magassága van, például a CSS-ben beállítva:</p></li>
</ul>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">#</span><span class="nn">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="kt">px</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Most készen áll a térkép inicializálására és hogy csináljon vele valamit.</p>
</section>
<section id="setting-up-the-map">
<h2><a class="toc-backref" href="#id4">A térkép beállítása</a><a class="headerlink" href="#setting-up-the-map" title="Hivatkozás erre a fejezetcímre">¶</a></h2>
<p>Let’s create a map of Firenze, Italy with an indication of the 2022 FOSS4G conference. First we’ll initialize the map and set its view to our chosen geographical coordinates and a zoom level:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">).</span><span class="nx">setView</span><span class="p">([</span><span class="mf">43.77913</span><span class="p">,</span><span class="w"> </span><span class="mf">11.24938</span><span class="p">],</span><span class="w"> </span><span class="mf">15</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Alapértelmezésben minden egér és érintés interakció engedélyezett a térképen (mivel a térkép példány létrehozásánál nem adtunk meg paramétereket), és van vezérlő elem a nagyításhoz és a szerzőkhöz.</p>
<p>Vegye észre, hogy a setView hívás visszaadja a térkép objektumot - a legtöbb Leaflet metódus így működik, amikor nem adnak vissza egy explicit értéket, ez lehetővé teszi a jQuery-hez hasonló kényelmes metódus láncolást.</p>
<p>Next we’ll add a tile layer to our map.
In this case we will be using the tile images provided by MapProxy on the live dvd. Note that using nicer background maps such as openstreetmap will result in a much better user experience.</p>
<p>Egy csempe réteg létrehozása általában magában foglalja az URL sablon beállítását a csempeképekhez, a készítőkre vonatkozó szöveget és a maximális nagyítási szintet:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">L</span><span class="o">.</span><span class="n">tileLayer</span><span class="p">(</span><span class="s1">&#39;http://localhost:8011/wmts/mapnik_tile/GLOBAL_WEBMERCATOR/</span><span class="si">{z}</span><span class="s1">/</span><span class="si">{x}</span><span class="s1">/</span><span class="si">{y}</span><span class="s1">.png&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">addTo</span><span class="p">(</span><span class="nb">map</span><span class="p">);</span>
</pre></div>
</div>
<p>Ha online hozzáférése van, akkor egy szebb csempetérképet használhat háttérként:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">L</span><span class="o">.</span><span class="n">tileLayer</span><span class="p">(</span><span class="s1">&#39;http://</span><span class="si">{s}</span><span class="s1">.tile.openstreetmap.org/</span><span class="si">{z}</span><span class="s1">/</span><span class="si">{x}</span><span class="s1">/</span><span class="si">{y}</span><span class="s1">.png&#39;</span><span class="p">,{</span><span class="n">maxZoom</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span> <span class="n">attribution</span><span class="p">:</span> <span class="s1">&#39;© &lt;a href=&quot;https://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt; contributors&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">addTo</span><span class="p">(</span><span class="nb">map</span><span class="p">);</span>
</pre></div>
</div>
<p>Győződjön meg róla, hogy minden a kódot a <strong>div</strong> és a <strong>leaflet.js</strong> beillesztés után hívjanak meg. Ennyi az egész! Most van egy működő Leaflet térképe.</p>
<p>Érdemes megjegyezni, hogy Leaflet szolgáltató-független, ami azt jelenti, hogy nem kényszeríti ki egy adott szolgáltatók a csempékhez, és még nem tartalmaz egy szolgáltatófüggő kódsort sem, így szabadon használhat más szolgáltatót, ha szüksége van rá.</p>
</section>
<section id="markers-circles-and-polygons">
<h2><a class="toc-backref" href="#id5">Szimbólumok, körök és zárt idomok</a><a class="headerlink" href="#markers-circles-and-polygons" title="Hivatkozás erre a fejezetcímre">¶</a></h2>
<p>A csempe rétegek mellett más dolgokat is könnyen hozzáadhat a térképéhez, beleértve a szimbólumokat, törtvonalakat, zárt idomokat és felugró ablakokat. Adjunk hozzá egy szimbólumot:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">marker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">marker</span><span class="p">([</span><span class="mf">43.77913</span><span class="p">,</span><span class="w"> </span><span class="mf">11.24938</span><span class="p">]).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Egy kör hozzáadás ugyanígy megy (eltekintve a második argumentumként méterben megadott sugártól), de lehetővé teszi, hogy a kinézetét beállítsa az objektum létrehozásánál utolsóként átadott beállításokkal.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">circle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">circle</span><span class="p">([</span><span class="mf">43.777</span><span class="p">,</span><span class="w"> </span><span class="mf">11.255</span><span class="p">],</span><span class="w"> </span><span class="mf">250</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="w"></span>
<span class="w">   </span><span class="nx">fillColor</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;#f03&#39;</span><span class="p">,</span><span class="w"></span>
<span class="w">   </span><span class="nx">fillOpacity</span><span class="o">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w"></span>
<span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Egy zárt idom hozzáadása ilyen könnyű:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">polygon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">polygon</span><span class="p">([</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="mf">43.775</span><span class="p">,</span><span class="w"> </span><span class="mf">11.247</span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="mf">43.784</span><span class="p">,</span><span class="w"> </span><span class="mf">11.240</span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="mf">43.778</span><span class="p">,</span><span class="w"> </span><span class="mf">11.238</span><span class="p">]</span><span class="w"></span>
<span class="p">]).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="working-with-popups">
<h2><a class="toc-backref" href="#id6">Munka a felugró ablakokkal</a><a class="headerlink" href="#working-with-popups" title="Hivatkozás erre a fejezetcímre">¶</a></h2>
<p>A felugró ablakokat általában akkor használják, ha néhány információt szeretne csatolni egy adott objektumhoz a térképen. A Leaflet-nek van egy nagyon praktikus megoldása erre:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">popup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">popup</span><span class="p">()</span><span class="w"></span>
<span class="w">   </span><span class="p">.</span><span class="nx">setLatLng</span><span class="p">([</span><span class="mf">43.77913</span><span class="p">,</span><span class="w"> </span><span class="mf">11.24938</span><span class="p">])</span><span class="w"></span>
<span class="w">   </span><span class="p">.</span><span class="nx">setContent</span><span class="p">(</span><span class="s2">&quot;FOSS4G is here this year!&quot;</span><span class="p">)</span><span class="w"></span>
<span class="w">   </span><span class="p">.</span><span class="nx">openOn</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Itt az <strong>addTo</strong> helyett az <strong>openOn</strong>-t használjuk, mert ez kezeli a korábban megnyitott felugró ablak automatikus lezárását amikor egy újat nyitunk meg, ami jó a használhatósághoz.</p>
</section>
<section id="dealing-with-events">
<h2><a class="toc-backref" href="#id7">Események kezelése</a><a class="headerlink" href="#dealing-with-events" title="Hivatkozás erre a fejezetcímre">¶</a></h2>
<p>Minden alkalommal, amikor valami történik a Leaflet-ben, pl. a felhasználó egy szimbólumra kattintott vagy a térkép nagyítása megváltozott, a megfelelő objektumot küld egy esemény, amelynek kezeléséhez egy függvényt rendelhet.. Ez lehetővé teszi, hogy a felhasználó műveleteire reagáljon:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span><span class="w"> </span><span class="nx">onMapClick</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;You clicked the map at &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">latlng</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="nx">map</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">onMapClick</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Minden objektumnak van saját esemény készlete - lásd a <a class="reference external" href="https://leafletjs.com/reference.html">dokumentációt</a> a részletekért. Az esemény figyelő függvény első argumentuma egy esemény objektum - ez hasznos információkat tartalmaz a bekövetkezett eseményről. Például a térkép kattintás objektumnak (e a fentipéldában) van latlng tulajdonsága, mely a hely ahová kattintottak.</p>
<p>Tökéletesítsük a példánkat az alert helyett használjunk felugró ablakot:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">popup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">popup</span><span class="p">();</span><span class="w"></span>

<span class="kd">function</span><span class="w"> </span><span class="nx">onMapClick</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="nx">popup</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="nx">setLatLng</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">latlng</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="nx">setContent</span><span class="p">(</span><span class="s2">&quot;You clicked the map at &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">latlng</span><span class="p">.</span><span class="nx">toString</span><span class="p">())</span><span class="w"></span>
<span class="w">         </span><span class="p">.</span><span class="nx">openOn</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="nx">map</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">onMapClick</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Próbáljon a térképre kattintani és egy felugró ablakban látja a koordinátákat. A teljes <a class="reference external" href="http://localhost/leaflet-demo.html">példa</a> megtekintése</p>
</section>
<section id="what-next">
<h2><a class="toc-backref" href="#id8">Mi a következő?</a><a class="headerlink" href="#what-next" title="Hivatkozás erre a fejezetcímre">¶</a></h2>
<p>Most megtanulta a Leaflet alapjait és azonnal elkezdheti a térkép alkalmazás készítését! Ne felejtsen el egy pillantást vetni a részletes <a class="reference external" href="https://leafletjs.com/examples.html">dokumentációra</a> vagy további <a class="reference external" href="https://leafletjs.com/reference.html">példákra</a>.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>



        
        
<span style="font-size:85%;"><i><a href="../copyright.html">Copyright & Disclaimer</a></i></span>
        


  </body>
</html>