
<!DOCTYPE html>

<html lang="it">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Guida rapida GeoExt &#8212; OSGeoLive 16.0 Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/overview.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/../_themes/overview/static/overview.css" />
    <script data-url_root="../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Indice" href="../genindex.html" />
    <link rel="search" title="Cerca" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Leaflet" href="../overview/leaflet_overview.html" />
    <link rel="prev" title="GeoExt" href="../overview/geoext_overview.html" />
	<script type="text/javascript" src="../../_static/osgeolive.js"></script>


  </head><body>

        
        
    <div class="header">
	<div class="banner"><a href="http://live.osgeo.org/"><img src="../../_images/osgeolive-banner.png"></a></div>
        <div class="nowrap">
            <ul id="top-nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../overview/overview.html">Contents</a></li>
              <li><a href="../download.html">Download</a></li>
              <li><a href="../metrics.html">Metrics</a></li>
              <li><a href="../sponsors.html">Sponsors</a></li>
              <li><a href="../contact.html">Contact Us</a></li>
            </ul>
        </div>
    </div>
    </div>
        


    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>

  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <a class="reference external image-reference" href="https://geoext.github.io/geoext"><img alt="../../_images/logo_geoext.png" class="align-right" src="../../_images/logo_geoext.png" /></a>
<section id="geoext-quickstart">
<h1>Guida rapida GeoExt<a class="headerlink" href="#geoext-quickstart" title="Link a questa intestazione">¶</a></h1>
<p>GeoExt è una libreria JavaScript che viene eseguita nel browser, combina e migliora il framework ExtJS e la libreria OpenLayers. Questo avvio rapido descrive in dettaglio i passaggi per creare un’applicazione Web avanzata utilizzando i componenti GeoExt in meno di 200 righe di codice. Utilizzeremo i servizi Web MapServer installati su OSGeoLive a MapServer per fornire layer di mappe all’applicazione. Completando i passaggi seguenti si otterrà l’applicazione demo GeoExt in <a class="reference external" href="http://localhost/geoext/">http://localhost/geoext/</a>.</p>
<div class="contents local topic" id="contents">
<p class="topic-title">Contenuti</p>
<ul class="simple">
<li><p><a class="reference internal" href="#create-an-html-page" id="id1">Creare una pagina HTML</a></p></li>
<li><p><a class="reference internal" href="#configure-openlayers-objects" id="id2">Configurare gli oggetti OpenLayers</a></p></li>
<li><p><a class="reference internal" href="#work-with-geoext-components" id="id3">Utilizzo dei componenti GeoExt</a></p></li>
<li><p><a class="reference internal" href="#create-a-viewport" id="id4">Creare un viewport</a></p></li>
<li><p><a class="reference internal" href="#what-s-next" id="id5">E ora?</a></p></li>
</ul>
</div>
<section id="create-an-html-page">
<h2><a class="toc-backref" href="#id1">Creare una pagina HTML</a><a class="headerlink" href="#create-an-html-page" title="Link a questa intestazione">¶</a></h2>
<p>In questo passaggio verrà impostata una pagina HTML vuota che conterrà l’applicazione. Useremo l’editor di testo FeatherPad installato su OSGeoLive per creare un nuovo file HTML in “”/var/www/html/geoext/demo.html””</p>
<ol class="arabic">
<li><p>Apri FeatherPad dalla riga di comando con autorizzazioni elevate, in modo da poter salvare il file, utilizzando Utilità di sistema &gt; QTerminal e quindi utilizzando run esegui il comando seguente:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>featherpad
</pre></div>
</div>
</li>
<li><p>Quindi incolla l’HTML qui sotto e salva il file come “”/var/www/html/geoext/demo.html””. Il file contiene collegamenti alle librerie JavaScript ExtJS e OpenLayers e due file CSS utilizzati per applicare uno stile ai componenti ExtJS e OpenLayers.</p>
<p>Useremo la classe “”Ext.Loader”” per caricare i file di origine JavaScript GeoExt. Questi sono tutti nella cartella “”src”” in “”/var/www/html/geoext/””.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>OSGeoLive | GeoExt QuickStart<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;resources/theme-triton-all.css&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/css&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;ol.css&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/css&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;ext-all.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;ol.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="w">       </span><span class="nx">Ext</span><span class="p">.</span><span class="nx">Loader</span><span class="p">.</span><span class="nx">setConfig</span><span class="p">({</span>
<span class="w">           </span><span class="nx">enabled</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">           </span><span class="nx">paths</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="s1">&#39;GeoExt&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;src/&#39;</span>
<span class="w">           </span><span class="p">}</span>
<span class="w">       </span><span class="p">});</span>

<span class="w">        </span><span class="nx">Ext</span><span class="p">.</span><span class="nx">onReady</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// all JavaScript application code should go here</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
</li>
</ol>
<p>Ora dovresti essere in grado di visualizzare una pagina HTML vuota in Firefox su <a class="reference external" href="http://localhost/geoext/demo.html">http://localhost/geoext/demo.html</a></p>
<p>Tutto il JavaScript nelle sezioni seguenti deve essere incollato dopo il commento <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">all</span> <span class="pre">JavaScript</span> <span class="pre">application</span> <span class="pre">code</span> <span class="pre">should</span> <span class="pre">go</span> <span class="pre">here</span></code> nella funzione “”Ext.onReady””. L’inserimento del codice qui garantisce che le librerie JavaScript siano state caricate prima di eseguire qualsiasi codice JavaScript personalizzato.</p>
</section>
<section id="configure-openlayers-objects">
<h2><a class="toc-backref" href="#id2">Configurare gli oggetti OpenLayers</a><a class="headerlink" href="#configure-openlayers-objects" title="Link a questa intestazione">¶</a></h2>
<p>Successivamente configureremo alcuni oggetti OpenLayers utilizzati dall’applicazione.</p>
<ol class="arabic">
<li><p>Per prima cosa creiamo una mappa a tile layer  utilizzando OpenStreetMap e alcuni layer WMS disponibili dalla demo mapServer Itasca su OSGeoLive.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">map</span><span class="p">;</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">mapServerUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;http://localhost/cgi-bin/mapserv?map=/usr/local/www/docs_maps/mapserver_demos/itasca/itasca.map&amp;&#39;</span><span class="p">;</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">osmLayer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ol</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">Tile</span><span class="p">({</span>
<span class="w">    </span><span class="nx">source</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ol</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">OSM</span><span class="p">(),</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;OpenStreetMap&#39;</span>
<span class="p">});</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">wmsLayer1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ol</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">Image</span><span class="p">({</span>
<span class="w">    </span><span class="nx">source</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ol</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">ImageWMS</span><span class="p">({</span>
<span class="w">        </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="nx">mapServerUrl</span><span class="p">,</span>
<span class="w">        </span><span class="nx">params</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">&#39;LAYERS&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ctybdpy2&#39;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}),</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;County Boundary&#39;</span>
<span class="p">});</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">wmsLayer2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ol</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">Image</span><span class="p">({</span>
<span class="w">    </span><span class="nx">source</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ol</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">ImageWMS</span><span class="p">({</span>
<span class="w">        </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="nx">mapServerUrl</span><span class="p">,</span>
<span class="w">        </span><span class="nx">params</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">&#39;LAYERS&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;lakespy2&#39;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}),</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Lakes &amp; Rivers&#39;</span>
<span class="p">});</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">wmsLayer3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ol</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">Image</span><span class="p">({</span>
<span class="w">    </span><span class="nx">source</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ol</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">ImageWMS</span><span class="p">({</span>
<span class="w">        </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="nx">mapServerUrl</span><span class="p">,</span>
<span class="w">        </span><span class="nx">params</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">&#39;LAYERS&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;majrdln3,majrdln3_anno&#39;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}),</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Highways&#39;</span>
<span class="p">});</span>
</pre></div>
</div>
</li>
<li><p>Successivamente aggiungeremo un livello vettoriale WFS - questo è un po” più complicato, ma segue lo stesso approccio di creazione di una sorgente e quindi di un livello come per i livelli precedenti:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">vectorSource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ol</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">Vector</span><span class="p">({</span>
<span class="w">    </span><span class="nx">format</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ol</span><span class="p">.</span><span class="nx">format</span><span class="p">.</span><span class="nx">GeoJSON</span><span class="p">(),</span>
<span class="w">    </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">extent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">mapServerUrl</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;service=WFS&amp;&#39;</span><span class="w"> </span><span class="o">+</span>
<span class="w">            </span><span class="s1">&#39;version=1.1.0&amp;request=GetFeature&amp;typename=airports&amp;&#39;</span><span class="w"> </span><span class="o">+</span>
<span class="w">            </span><span class="s1">&#39;outputFormat=application/json&amp;srsname=EPSG:3857&amp;&#39;</span><span class="w"> </span><span class="o">+</span>
<span class="w">            </span><span class="s1">&#39;bbox=&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">extent</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;,EPSG:3857&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">strategy</span><span class="o">:</span><span class="w"> </span><span class="nx">ol</span><span class="p">.</span><span class="nx">loadingstrategy</span><span class="p">.</span><span class="nx">bbox</span>
<span class="p">});</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">vectorLayer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ol</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">Vector</span><span class="p">({</span>
<span class="w">    </span><span class="nx">source</span><span class="o">:</span><span class="w"> </span><span class="nx">vectorSource</span><span class="p">,</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Airports&#39;</span>
<span class="p">});</span>
</pre></div>
</div>
</li>
<li><p>Ora creeremo il nostro oggetto mappa OpenLayers configurato con i layer che abbiamo appena creato. Imposteremo anche il centro e il livello di zoom della mappa e aggiungeremo un’interazione selezionata in modo da poter selezionare gli elementi nel nostro layer vettoriale.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ol</span><span class="p">.</span><span class="nb">Map</span><span class="p">({</span>
<span class="w">    </span><span class="nx">layers</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="nx">wmsLayer1</span><span class="p">,</span><span class="w"> </span><span class="nx">wmsLayer2</span><span class="p">,</span><span class="w"> </span><span class="nx">wmsLayer3</span><span class="p">,</span><span class="w"> </span><span class="nx">vectorLayer</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nx">view</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ol</span><span class="p">.</span><span class="nx">View</span><span class="p">({</span>
<span class="w">        </span><span class="nx">center</span><span class="o">:</span><span class="w"> </span><span class="nx">ol</span><span class="p">.</span><span class="nx">proj</span><span class="p">.</span><span class="nx">fromLonLat</span><span class="p">([</span><span class="o">-</span><span class="mf">93.33</span><span class="p">,</span><span class="w"> </span><span class="mf">47.32</span><span class="p">]),</span>
<span class="w">        </span><span class="nx">zoom</span><span class="o">:</span><span class="w"> </span><span class="mf">6</span>
<span class="w">    </span><span class="p">})</span>
<span class="p">});</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">selectInteraction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ol</span><span class="p">.</span><span class="nx">interaction</span><span class="p">.</span><span class="nx">Select</span><span class="p">();</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">addInteraction</span><span class="p">(</span><span class="nx">selectInteraction</span><span class="p">);</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="work-with-geoext-components">
<h2><a class="toc-backref" href="#id3">Utilizzo dei componenti GeoExt</a><a class="headerlink" href="#work-with-geoext-components" title="Link a questa intestazione">¶</a></h2>
<p>Ora che la mappa e i layer sono stati configurati, creeremo e configureremo i nostri componenti GeoExt.</p>
<ol class="arabic">
<li><p>Prima di tutto creeremo un “”GeoExt.component.Map””. Questo utilizza la mappa OpenLayers che abbiamo creato e sarà posizionato nella regione «centrale» della nostra applicazione.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">mapComponent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Ext</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s1">&#39;GeoExt.component.Map&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">map</span><span class="o">:</span><span class="w"> </span><span class="nx">map</span><span class="p">,</span>
<span class="w">    </span><span class="nx">region</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;center&#39;</span>
<span class="p">});</span>
</pre></div>
</div>
</li>
<li><p>Successivamente creeremo un componente dell’albero dei livelli. L’albero ha un proprio archivio dati - “”GeoExt.data.store.LayersTree””, che riempiremo con i layer della nostra mappa OpenLayers. Lo store verrà quindi utilizzato per popolare il nostro pannello ad albero. Aggiungeremo anche un plugin all’albero per consentire di cambiare l’ordine dei layer della mappa trascinando e rilasciando i layer. La proprietà “”flex”” fa sì che il pannello dell’albero riempia tutto lo spazio disponibile nella sua regione dello schermo.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">treeStore</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Ext</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s1">&#39;GeoExt.data.store.LayersTree&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">layerGroup</span><span class="o">:</span><span class="w"> </span><span class="nx">map</span><span class="p">.</span><span class="nx">getLayerGroup</span><span class="p">()</span>
<span class="p">});</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">layerTreePanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Ext</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s1">&#39;Ext.tree.Panel&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Map Layers&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="mf">300</span><span class="p">,</span>
<span class="w">    </span><span class="nx">flex</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span>
<span class="w">    </span><span class="nx">store</span><span class="o">:</span><span class="w"> </span><span class="nx">treeStore</span><span class="p">,</span>
<span class="w">    </span><span class="nx">rootVisible</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="nx">viewConfig</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">plugins</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ptype</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;treeviewdragdrop&#39;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
</li>
<li><p>Creeremo anche un componente griglia per visualizzare gli attributi degli elementi nel nostro livello WFS. Analogamente all’archivio dell’albero dei livelli e al pannello dell’albero, creiamo un archivio «GeoExt.data.store.Features» e un pannello griglia.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">featureStore</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Ext</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s1">&#39;GeoExt.data.store.Features&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">layer</span><span class="o">:</span><span class="w"> </span><span class="nx">vectorLayer</span><span class="p">,</span>
<span class="w">    </span><span class="nx">map</span><span class="o">:</span><span class="w"> </span><span class="nx">map</span>
<span class="p">});</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">featureGrid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Ext</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s1">&#39;Ext.grid.Panel&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">store</span><span class="o">:</span><span class="w"> </span><span class="nx">featureStore</span><span class="p">,</span>
<span class="w">    </span><span class="nx">region</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;south&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Airport Runways for Itasca County&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">columns</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Name&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">dataIndex</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;NAME&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">flex</span><span class="o">:</span><span class="w"> </span><span class="mf">3</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Quadrant&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">dataIndex</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;QUADNAME&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">flex</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Elevation&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">dataIndex</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ELEVATION&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">flex</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nx">listeners</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">selectionchange</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">sm</span><span class="p">,</span><span class="w"> </span><span class="nx">selected</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">Ext</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">selected</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">rec</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">selectInteraction</span><span class="p">.</span><span class="nx">getFeatures</span><span class="p">().</span><span class="nx">clear</span><span class="p">();</span>
<span class="w">                </span><span class="nx">selectInteraction</span><span class="p">.</span><span class="nx">getFeatures</span><span class="p">().</span><span class="nx">push</span><span class="p">(</span><span class="nx">rec</span><span class="p">.</span><span class="nx">getFeature</span><span class="p">());</span>
<span class="w">            </span><span class="p">});</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">height</span><span class="o">:</span><span class="w"> </span><span class="mf">300</span>
<span class="p">});</span>
</pre></div>
</div>
</li>
<li><p>Il nostro componente GeoExt finale è una mappa panoramica - <code class="docutils literal notranslate"><span class="pre">GeoExt.component.OverviewMap</span></code>. Lo configureremo per visualizzare il livello OpenStreetMap che abbiamo creato in precedenza, e lo collocheremo in un pannello ExtJS.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">overview</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Ext</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s1">&#39;GeoExt.component.OverviewMap&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">parentMap</span><span class="o">:</span><span class="w"> </span><span class="nx">map</span><span class="p">,</span>
<span class="w">    </span><span class="nx">layers</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">osmLayer</span><span class="p">]</span>
<span class="p">});</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">overviewPanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Ext</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s1">&#39;Ext.panel.Panel&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Overview&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">layout</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;fit&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="nx">overview</span><span class="p">,</span>
<span class="w">    </span><span class="nx">height</span><span class="o">:</span><span class="w"> </span><span class="mf">300</span><span class="p">,</span>
<span class="w">    </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="mf">300</span><span class="p">,</span>
<span class="w">    </span><span class="nx">collapsible</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">});</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="create-a-viewport">
<h2><a class="toc-backref" href="#id4">Creare un viewport</a><a class="headerlink" href="#create-a-viewport" title="Link a questa intestazione">¶</a></h2>
<p>Il passaggio finale nella creazione della nostra applicazione è creare un viewport - un contenitore che rappresenta l’applicazione che visualizzerà tutti i componenti che abbiamo creato sopra.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">vp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Ext</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s1">&#39;Ext.container.Viewport&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">layout</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;border&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="nx">mapComponent</span><span class="p">,</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nx">xtype</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;container&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">region</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;west&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">layout</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;vbox&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">collapsible</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">            </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="nx">overviewPanel</span><span class="p">,</span>
<span class="w">                </span><span class="nx">layerTreePanel</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nx">featureGrid</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Ora dovresti essere in grado di aggiornare il link <a class="reference external" href="http://localhost/geoext/demo.html">http://localhost/geoext/demo.html</a> nel tuo browser e vedere un’applicazione GeoExt completa simile all’immagine qui sotto.</p>
<a class="reference internal image-reference" href="../../_images/geoext_quickstart.png"><img alt="../../_images/geoext_quickstart.png" src="../../_images/geoext_quickstart.png" style="width: 1521.0px; height: 725.0px;" /></a>
</section>
<section id="what-s-next">
<h2><a class="toc-backref" href="#id5">E ora?</a><a class="headerlink" href="#what-s-next" title="Link a questa intestazione">¶</a></h2>
<ul class="simple">
<li><p>La <a class="reference external" href="https://geoext.github.io/geoext/">pagina principale di GeoExt</a> contiene la <a class="reference external" href="https://geoext.github.io/geoext3/v3.1.0/docs">documentazione API completa</a> e gli esempi</p></li>
<li><p>Un <a class="reference external" href="https://github.com/geoext/geoext3-ws">GeoExt workshop</a> dettaglia tutti i passi per configurare e utilizzare GeoExt3 nelle vostre applicazioni ExtJS</p></li>
<li><p>La documentazione <a class="reference external" href="https://openlayers.org/en/v4.6.5/apidoc">OpenLayers v4.6.5 API</a></p></li>
<li><p>La documentazione <a class="reference external" href="https://docs.sencha.com/extjs/6.2.0/">ExtJS 6.2.0 API</a></p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>



        
        
<span style="font-size:85%;"><i><a href="../copyright.html">Copyright & Disclaimer</a></i></span>
        


  </body>
</html>