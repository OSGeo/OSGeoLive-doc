
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>SpatiaLite Quickstart &#8212; OSGeoLive 15.0 Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/overview.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/../_themes/overview/static/overview.css" />
    <script data-url_root="../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Marble" href="../overview/marble_overview.html" />
    <link rel="prev" title="SpatiaLite" href="../overview/spatialite_overview.html" />
	<script type="text/javascript" src="../../_static/osgeolive.js"></script>


  </head><body>

        
        
    <div class="header">
	<div class="banner"><a href="http://live.osgeo.org/"><img src="../../_images/osgeolive-banner.png"></a></div>
        <div class="nowrap">
            <ul id="top-nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../overview/overview.html">Contents</a></li>
              <li><a href="../download.html">Download</a></li>
              <li><a href="../metrics.html">Metrics</a></li>
              <li><a href="../sponsors.html">Sponsors</a></li>
              <li><a href="../contact.html">Contact Us</a></li>
            </ul>
        </div>
    </div>
    </div>
        


    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>

  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <a class="reference external image-reference" href="http://www.gaia-gis.it/gaia-sins/"><img alt="../../_images/logo_spatialite.png" class="align-right" src="../../_images/logo_spatialite.png" /></a>
<section id="spatialite-quickstart">
<h1>SpatiaLite Quickstart<a class="headerlink" href="#spatialite-quickstart" title="Permalink to this headline">¶</a></h1>
<p>SpatiaLite is an SQLite database engine with spatial functions added.</p>
<p>SQLite is a Database Management System (DBMS) which is simple, robust, easy to use and very lightweight. Each SQLite database is simply a file. You can freely copy it, compress it, and port it between Windows, Linux, MacOs etc.</p>
<p>This Quick Start describes how to open a spatialite database from both GUI applications and the command line. Some sample SQL queries are shown.</p>
<div class="contents local topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#start-spatialite-and-load-a-database" id="id1">Start Spatialite and load a database</a></p></li>
<li><p><a class="reference internal" href="#run-an-sql-query" id="id2">Run an SQL query</a></p></li>
<li><p><a class="reference internal" href="#run-spatialite-from-the-command-line" id="id3">Run spatialite from the command line</a></p></li>
<li><p><a class="reference internal" href="#create-a-new-spatialite-database-and-load-a-shapefile" id="id4">Create a new spatialite database and load a shapefile</a></p></li>
<li><p><a class="reference internal" href="#things-to-try" id="id5">Things to try</a></p></li>
<li><p><a class="reference internal" href="#what-next" id="id6">What next?</a></p></li>
</ul>
</div>
<section id="start-spatialite-and-load-a-database">
<h2><a class="toc-backref" href="#id1">Start Spatialite and load a database</a><a class="headerlink" href="#start-spatialite-and-load-a-database" title="Permalink to this headline">¶</a></h2>
<p>Spatialite-gui provides a visual interface for viewing and maintaining a
spatialite database. You can easily see the structure of the tables and data
contents using point and click functions, many of which construct
common SQL queries, or craft your own SQL queries.</p>
<ol class="arabic">
<li><p>Open the Spatialite GUI by selecting <span class="menuselection">Geospatial-&gt;Databases-&gt;Spatialite GUI</span>.</p>
</li>
<li><p>Select <span class="menuselection">File-&gt;Connecting an existing SQLite DB</span></p></li>
<li><p>Browse to the <code class="file docutils literal notranslate"><span class="pre">/home/user/data/spatialite</span></code> directory and choose <code class="file docutils literal notranslate"><span class="pre">trento.sqlite</span></code>.</p>
<a class="reference internal image-reference" href="../../_images/spatialite-gui-trento.png"><img alt="../../_images/spatialite-gui-trento.png" src="../../_images/spatialite-gui-trento.png" style="width: 560.0px; height: 433.29999999999995px;" /></a>
</li>
<li><p>Right click on the MunicipalHallsView table and select “Show Columns”</p>
<a class="reference internal image-reference" href="../../_images/spatialite-gui-columns.png"><img alt="../../_images/spatialite-gui-columns.png" src="../../_images/spatialite-gui-columns.png" style="width: 560.0px; height: 433.29999999999995px;" /></a>
</li>
<li><p>You will notice the display broken into 3 areas:</p>
<ul class="simple">
<li><p>The left panel displays the database hierarchy, such as a list of tables, and columns within the table. Right click on elements of the left panel to select from a list of common database actions.</p></li>
<li><p>The top right panel shows SQL for the action selected. You can enter your own customised SQL into this panel.</p></li>
<li><p>The bottom right panel shows the results of the SQL query.</p></li>
</ul>
</li>
<li><p>Right Click on the MunicipalHalls table and select “Edit table rows”. Notice the SQL query which has been created for you in the top right pane, and results in the bottom right.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">ROWID</span><span class="p">,</span> <span class="s2">&quot;PK_UID&quot;</span><span class="p">,</span> <span class="s2">&quot;AREA&quot;</span><span class="p">,</span> <span class="s2">&quot;PERIMETER&quot;</span><span class="p">,</span> <span class="s2">&quot;COMU&quot;</span><span class="p">,</span> <span class="s2">&quot;Geometry&quot;</span>
    <span class="n">FROM</span> <span class="s2">&quot;MunicipalHalls&quot;</span>
    <span class="n">ORDER</span> <span class="n">BY</span> <span class="n">ROWID</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="run-an-sql-query">
<h2><a class="toc-backref" href="#id2">Run an SQL query</a><a class="headerlink" href="#run-an-sql-query" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Now let’s try tweaking this SQL statement to get NOME and (Lat,Long) for only the NOME_PROV fields include “BRESCIA”, this time using the MunicipalHallsView.  In the upper right SQL pane type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">NOME</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="n">Geometry</span><span class="p">)</span> <span class="n">AS</span> <span class="n">Longitude</span><span class="p">,</span> <span class="n">Y</span><span class="p">(</span><span class="n">Geometry</span><span class="p">)</span> <span class="n">AS</span> <span class="n">Latitude</span>
    <span class="n">FROM</span> <span class="s2">&quot;MunicipalHallsView&quot;</span>
    <span class="n">WHERE</span> <span class="n">NOME_PROV</span> <span class="n">LIKE</span> <span class="s2">&quot;BRESCIA&quot;</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p>Click the “Execute SQL” button at the right, and see the results in the bottom right pane.</p>
<a class="reference internal image-reference" href="../../_images/spatialite-gui-select.png"><img alt="../../_images/spatialite-gui-select.png" src="../../_images/spatialite-gui-select.png" style="width: 560.0px; height: 433.29999999999995px;" /></a>
</li>
</ol>
</section>
<section id="run-spatialite-from-the-command-line">
<h2><a class="toc-backref" href="#id3">Run spatialite from the command line</a><a class="headerlink" href="#run-spatialite-from-the-command-line" title="Permalink to this headline">¶</a></h2>
<p>Users needing to script or automate queries will learn the advantages of working with a spatialite database from the command line interface. In this example, we will load a shapefile, and search for schools which are near highway 42.</p>
<ol class="arabic">
<li><p>Before working from the command line, we need to open a terminal window: <span class="menuselection">System Tools -&gt; LXTerminal</span>.</p></li>
<li><p>In the terminal open a sample database with <strong>spatialite</strong> by typing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">spatialite</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">spatialite</span><span class="o">/</span><span class="n">trento</span><span class="o">.</span><span class="n">sqlite</span>
</pre></div>
</div>
<p>Helpful commands from the command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">help</span>
<span class="o">.</span><span class="n">tables</span>
<span class="o">.</span><span class="n">quit</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="create-a-new-spatialite-database-and-load-a-shapefile">
<h2><a class="toc-backref" href="#id4">Create a new spatialite database and load a shapefile</a><a class="headerlink" href="#create-a-new-spatialite-database-and-load-a-shapefile" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Let’s create a new, empty spatialite database, and load two shapefiles from the north_carolina dataset:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>user@osgeo-6:~$ spatialite test.sqlite
SpatiaLite version ..: 5.0.0    Supported Extensions:
    - &#39;VirtualShape&#39;        [direct Shapefile access]
    - &#39;VirtualDbf&#39;          [direct DBF access]
    - &#39;VirtualText&#39;         [direct CSV/TXT access]
    - &#39;VirtualGeoJSON&#39;              [direct GeoJSON access]
    - &#39;VirtualXL&#39;           [direct XLS access]
    - &#39;VirtualNetwork&#39;      [Dijkstra shortest path - obsolete]
    - &#39;RTree&#39;               [Spatial Index - R*Tree]
    - &#39;MbrCache&#39;            [Spatial Index - MBR cache]
    - &#39;VirtualFDO&#39;          [FDO-OGR interoperability]
    - &#39;VirtualBBox&#39;         [BoundingBox tables]
    - &#39;VirtualSpatialIndex&#39; [R*Tree metahandler]
    - &#39;VirtualElementary&#39;   [ElemGeoms metahandler]
    - &#39;VirtualRouting&#39;      [Dijkstra shortest path - advanced]
    - &#39;VirtualKNN&#39;  [K-Nearest Neighbors metahandler]
    - &#39;VirtualGPKG&#39; [OGC GeoPackage interoperability]
    - &#39;SpatiaLite&#39;          [Spatial SQL - OGC]
    - &#39;VirtualXPath&#39;        [XML Path Language - XPath]
PROJ version ........: Rel. 6.3.1, February 10th, 2020
GEOS version ........: 3.9.0-CAPI-1.16.2
RTTOPO version ......: 1.1.0
TARGET CPU ..........: x86_64-linux-gnu
the SPATIAL_REF_SYS table already contains some row(s)
SQLite version ......: 3.31.1
Enter &quot;.help&quot; for instructions
SQLite version 3.31.1 2020-01-27 19:55:54
Enter &quot;.help&quot; for instructions
Enter SQL statements terminated with a &quot;;&quot;
spatialite&gt;
spatialite&gt; .loadshp data/north_carolina/shape/schools_wake schools utf-8 3358
spatialite&gt; .loadshp data/north_carolina/shape/roadsmajor roads utf-8 3358
</pre></div>
</div>
<p>Note the format of the .loadshp command: first the shapefile without the .shp extension, then the name of the new spatialite table, next the character encoding, and finally the EPSG code of the shapefile’s CRS.</p>
</li>
<li><p>Now we’ll query for schools near to highway 42.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">spatialite</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="n">s</span><span class="o">.</span><span class="n">NAMESHORT</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">ADDRNUMBER</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">ADDRROOT</span>
     <span class="o">...&gt;</span> <span class="n">FROM</span> <span class="n">schools</span> <span class="n">AS</span> <span class="n">s</span><span class="p">,</span> <span class="n">roads</span> <span class="n">AS</span> <span class="n">r</span>
     <span class="o">...&gt;</span> <span class="n">WHERE</span> <span class="n">r</span><span class="o">.</span><span class="n">ROAD_NAME</span> <span class="o">=</span> <span class="s2">&quot;NC-42&quot;</span> <span class="n">AND</span>
     <span class="o">...&gt;</span> <span class="n">ST_Distance</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">Geometry</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">Geometry</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">;</span>
<span class="n">FUQUAY</span><span class="o">-</span><span class="n">VARINA</span><span class="o">|</span><span class="mi">6600</span><span class="o">|</span><span class="n">Johnson</span> <span class="n">Pond</span> <span class="n">Rd</span>
<span class="n">WILLOW</span> <span class="n">SPRINGS</span><span class="o">|</span><span class="mi">6800</span><span class="o">|</span><span class="n">Dwight</span> <span class="n">Rowland</span> <span class="n">Rd</span>
<span class="n">FUQUAY</span><span class="o">-</span><span class="n">VARINA</span><span class="o">|</span><span class="mi">109</span><span class="o">|</span><span class="n">N</span> <span class="n">Ennis</span> <span class="n">St</span>
<span class="n">LINCOLN</span> <span class="n">HEIGHTS</span><span class="o">|</span><span class="mi">307</span><span class="o">|</span><span class="n">Bridge</span> <span class="n">St</span>
</pre></div>
</div>
</li>
<li><p>Finally, we output the query to a “comma separated values” text file “schools_rt42.txt” with the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">spatialite</span><span class="o">&gt;</span> <span class="o">.</span><span class="n">mode</span> <span class="n">csv</span>
<span class="n">spatialite</span><span class="o">&gt;</span> <span class="o">.</span><span class="n">output</span> <span class="s2">&quot;schools_rt42.txt&quot;</span>
<span class="n">spatialite</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="n">s</span><span class="o">.</span><span class="n">NAMESHORT</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">ADDRNUMBER</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">ADDRROOT</span>
    <span class="o">...&gt;</span> <span class="n">FROM</span> <span class="n">schools</span> <span class="n">AS</span> <span class="n">s</span><span class="p">,</span> <span class="n">roads</span> <span class="n">AS</span> <span class="n">r</span>
    <span class="o">...&gt;</span> <span class="n">WHERE</span> <span class="n">r</span><span class="o">.</span><span class="n">ROAD_NAME</span> <span class="o">=</span> <span class="s2">&quot;NC-42&quot;</span> <span class="n">AND</span>
    <span class="o">...&gt;</span> <span class="n">ST_Distance</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">Geometry</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">Geometry</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">;</span>
<span class="n">spatialite</span><span class="o">&gt;.</span><span class="n">q</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="things-to-try">
<h2><a class="toc-backref" href="#id5">Things to try</a><a class="headerlink" href="#things-to-try" title="Permalink to this headline">¶</a></h2>
<p>Here are some additional challenges for you to try:</p>
<ul class="simple">
<li><p>Inspect geometries with spatialite-gui</p></li>
<li><p>Open and edit SpatiaLite layers in QGIS</p></li>
</ul>
</section>
<section id="what-next">
<h2><a class="toc-backref" href="#id6">What next?</a><a class="headerlink" href="#what-next" title="Permalink to this headline">¶</a></h2>
<p>To learn more about SpatiaLite, a starting point is the <a class="reference external" href="https://www.gaia-gis.it/fossil/libspatialite/index">SpatiaLite project page</a>.</p>
<p>Be sure to visit the tutorial <a class="reference external" href="http://www.gaia-gis.it/gaia-sins/spatialite-cookbook/index.html">Spatialite cookbook</a></p>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>



        
        
<span style="font-size:85%;"><i><a href="../copyright.html">Copyright & Disclaimer</a></i></span>
        


  </body>
</html>