
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>pycsw Quickstart &#8212; OSGeoLive 13.0 Documentation</title>
    <link rel="stylesheet" href="../../_static/overview.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '13.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="copyright" title="著作権" href="../copyright.html" />
    <link rel="next" title="PyWPS Quickstart" href="pywps_quickstart.html" />
    <link rel="prev" title="Proj.4 Quickstart" href="proj4_quickstart.html" />
	<script type="text/javascript" src="../../_static/osgeolive.js"></script>


  </head>
  <body>

        
        
    <div class="header">
	<div class="banner"><a href="http://live.osgeo.org/"><img src="../../_images/banner.png"></a></div>
        <div class="nowrap">
            <ul id="top-nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../overview/overview.html">Contents</a></li>
              <li><a href="../download.html">Download</a></li>
              <li><a href="../metrics.html">Metrics</a></li>
              <li><a href="../sponsors.html">Sponsors</a></li>
              <li><a href="../contact.html">Contact Us</a></li>
            </ul>
        </div>
    </div>
    </div> 
        


    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a>
		</div>
	</font>
    </div>



    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <a class="reference external image-reference" href="http://pycsw.org/"><img alt="../../_images/logo_pycsw.png" class="align-right" src="../../_images/logo_pycsw.png" /></a>
<a class="reference external image-reference" href="target:http://www.osgeo.org"><img alt="../../_images/OSGeo_project.png" class="align-right" src="../../_images/OSGeo_project.png" /></a>
<div class="section" id="pycsw-quickstart">
<h1>pycsw Quickstart<a class="headerlink" href="#pycsw-quickstart" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>pycsw is an OGC CSW server implementation written in <a class="reference external" href="https://python.org">Python</a>. pycsw allows for the publishing and discovery of geospatial metadata.  Existing repositories of geospatial metadata can be exposed via OGC:CSW 2.0.2 or OGC:CSW 3.0.0.</p>
<div class="contents local topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#run-the-tester-application" id="id2">Run the tester application</a></li>
<li><a class="reference internal" href="#understand-capabilities-and-configuration" id="id3">Understand capabilities and configuration</a></li>
<li><a class="reference internal" href="#create-metadata" id="id4">Create metadata</a></li>
<li><a class="reference internal" href="#load-metadata" id="id5">Load metadata</a><ul>
<li><a class="reference internal" href="#create-a-new-database" id="id6">Create a new database</a></li>
<li><a class="reference internal" href="#import-metadata" id="id7">Import Metadata</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-discovery-through-qgis-metasearch-plugin" id="id8">Data discovery through QGIS MetaSearch plugin</a></li>
<li><a class="reference internal" href="#things-to-try" id="id9">Things to try</a></li>
<li><a class="reference internal" href="#what-next" id="id10">What next?</a></li>
</ul>
</div>
<div class="section" id="run-the-tester-application">
<h2><a class="toc-backref" href="#id2">Run the tester application</a><a class="headerlink" href="#run-the-tester-application" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ol class="arabic simple">
<li>On the Desktop go to <cite>Web Services –&gt; pycsw</cite> or open Firefox and navigate to <code class="docutils literal"><span class="pre">http://localhost/pycsw/tests/index.html</span></code>:</li>
</ol>
<ol class="arabic simple" start="2">
<li>Select 「apiso/DescribeRecord」 and press the 「Send」 button. A description of the ISO Application Profile record is presented on the right panel.</li>
</ol>
<a class="reference internal image-reference" href="../../_images/pycsw_tester_describe_apiso_record.png"><img alt="../../_images/pycsw_tester_describe_apiso_record.png" src="../../_images/pycsw_tester_describe_apiso_record.png" style="width: 746.25px; height: 408.75px;" /></a>
<ol class="arabic simple" start="3">
<li>Selecting 「GetCapabilities-SOAP」 and press the 「Send」 button. A SOAP request is sent to the server to advertise their web service capabilities.</li>
</ol>
<a class="reference internal image-reference" href="../../_images/pycsw_tester_soap_capabillities.png"><img alt="../../_images/pycsw_tester_soap_capabillities.png" src="../../_images/pycsw_tester_soap_capabillities.png" style="width: 746.25px; height: 408.0px;" /></a>
<ol class="arabic simple" start="4">
<li>You can search for data records, performing a spatial bounding box query, by selecting 「GetRecords-filter-bbox」 and editing the coordinates in the XML request.</li>
</ol>
<a class="reference internal image-reference" href="../../_images/pycsw_tester_getrecords_bbox_filter.png"><img alt="../../_images/pycsw_tester_getrecords_bbox_filter.png" src="../../_images/pycsw_tester_getrecords_bbox_filter.png" style="width: 749.25px; height: 399.0px;" /></a>
<p>You can go through all the available requests and perform various requests from this testing application.</p>
</div>
<div class="section" id="understand-capabilities-and-configuration">
<h2><a class="toc-backref" href="#id3">Understand capabilities and configuration</a><a class="headerlink" href="#understand-capabilities-and-configuration" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>The capabilities of the pycsw installation can be found at <code class="docutils literal"><span class="pre">http://localhost/pycsw?service=CSW&amp;version=2.0.2&amp;request=GetCapabilities</span></code>.
If you just use <code class="docutils literal"><span class="pre">http://localhost/pycsw</span></code> you will get the capabilities document for CSW 3.0.0, since that is the latest version supported.</p>
<p>To edit the web service metadata, included in the capabilities document, you can modify the file <code class="docutils literal"><span class="pre">/etc/pycsw/default.cfg</span></code> under the tag <code class="docutils literal"><span class="pre">[metadata:main]</span></code>.</p>
<p>If you want to enable INSPIRE Discovery Service support, fill in the metadata under the tag <code class="docutils literal"><span class="pre">[metadata:inspire]</span></code> and set the <code class="docutils literal"><span class="pre">enabled</span></code> property to <code class="docutils literal"><span class="pre">true</span></code>.</p>
<p>For full functionality and configuration options, please consult the <a class="reference external" href="https://pycsw.org/docs/">documentation</a> on the pycsw website.</p>
</div>
<div class="section" id="create-metadata">
<h2><a class="toc-backref" href="#id4">Create metadata</a><a class="headerlink" href="#create-metadata" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Metadata files for a spatial dataset or a spatial web service can be created through the open source implementation of inspire directive for metadata, European Open Source Metadata Editor (EUOSME). This application can be found at <code class="docutils literal"><span class="pre">http://inspire-geoportal.ec.europa.eu/editor/</span></code>. Source code is available at <code class="docutils literal"><span class="pre">https://joinup.ec.europa.eu/svn/euosme/trunk</span></code></p>
<p>You can fill the mandatory metadata fields by going through the application tabs, adding information like the name of the data owner, keywords, resource location on the web, geographic location (using a bounding box or the name of a country), etc.</p>
<a class="reference internal image-reference" href="../../_images/pycsw_euosme_metadata_input.png"><img alt="../../_images/pycsw_euosme_metadata_input.png" src="../../_images/pycsw_euosme_metadata_input.png" style="width: 831.75px; height: 485.25px;" /></a>
<p>After you have added all the information available, press the <span class="guilabel">validation</span> button on top of the page to check for consistency with the INSPIRE directive.</p>
<a class="reference internal image-reference" href="../../_images/pycsw_euosme_save_metadata.png"><img alt="../../_images/pycsw_euosme_save_metadata.png" src="../../_images/pycsw_euosme_save_metadata.png" style="width: 830.25px; height: 485.25px;" /></a>
<p>After a successful validation, the XML file can be saved to the local disk and viewed through a text editor or a browser.</p>
</div>
<div class="section" id="load-metadata">
<h2><a class="toc-backref" href="#id5">Load metadata</a><a class="headerlink" href="#load-metadata" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>pycsw supports the following databases:</p>
<ul class="simple">
<li>SQLite3</li>
<li>PostgreSQL (PostGIS optional)</li>
<li>MySQL</li>
</ul>
<p>In OSGeoLive, a simple SQLite setup has been implemented. The database can be found in <code class="docutils literal"><span class="pre">/usr/share/pycsw/tests/suites/cite/data/records.db</span></code></p>
<div class="section" id="create-a-new-database">
<h3><a class="toc-backref" href="#id6">Create a new database</a><a class="headerlink" href="#create-a-new-database" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>In order to create a new SQLite database we need to:</p>
<ol class="arabic">
<li><p class="first">Edit <code class="docutils literal"><span class="pre">/etc/pycsw/default.cfg</span></code>:</p>
<p><strong>[repository]</strong></p>
<ul class="simple">
<li><strong>database</strong>: the full file path to the metadata database, in database URL format (see <a class="reference external" href="https://docs.sqlalchemy.org/en/latest/core/engines.html#database-urls">https://docs.sqlalchemy.org/en/latest/core/engines.html#database-urls</a>)</li>
<li><strong>table</strong>: the table name for metadata records (default is <code class="docutils literal"><span class="pre">records</span></code>)</li>
</ul>
</li>
<li><p class="first">Setup the database:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ sudo pycsw-admin -c setup_db -f /etc/pycsw/default.cfg
</pre></div>
</div>
</li>
</ol>
<p>This will create the necessary tables and values for the repository.</p>
<p>The database created is an <a class="reference external" href="https://www.opengeospatial.org/standards/sfs">OGC SFSQL</a> compliant database, and can be used with any implementing software.  For example, to use with <a class="reference external" href="https://www.gdal.org/ogr">OGR</a>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ ogrinfo /path/to/records.db
INFO: Open of <span class="s1">&#39;records.db&#39;</span>
using driver <span class="s1">&#39;SQLite&#39;</span> successful.
<span class="m">1</span>: records <span class="o">(</span>Polygon<span class="o">)</span>
$ ogrinfo -al /path/to/records.db
<span class="c1"># lots of output</span>
</pre></div>
</div>
</div>
<div class="section" id="import-metadata">
<h3><a class="toc-backref" href="#id7">Import Metadata</a><a class="headerlink" href="#import-metadata" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ sudo pycsw-admin -c load_records -f /etc/pycsw/default.cfg -p /path/to/records -r
</pre></div>
</div>
<p>This will import all <code class="docutils literal"><span class="pre">*.xml</span></code> records from <code class="docutils literal"><span class="pre">/path/to/records</span></code> into the new database and configure the repository to expose queryables as per Table 53 of OGC:CSW.</p>
</div>
</div>
<div class="section" id="data-discovery-through-qgis-metasearch-plugin">
<h2><a class="toc-backref" href="#id8">Data discovery through QGIS MetaSearch plugin</a><a class="headerlink" href="#data-discovery-through-qgis-metasearch-plugin" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ol class="arabic simple">
<li>On the Desktop go to <cite>Desktop GIS –&gt; QGIS</cite> to start QGIS, then click on the <span class="guilabel">MetaSearch</span> button (CSW icon)</li>
</ol>
<a class="reference internal image-reference" href="../../_images/pycsw_qgis_metasearch_open.png"><img alt="../../_images/pycsw_qgis_metasearch_open.png" src="../../_images/pycsw_qgis_metasearch_open.png" style="width: 501.75px; height: 466.5px;" /></a>
<ol class="arabic simple" start="2">
<li>Add the pycsw server by pressing the <span class="guilabel">New</span> button and type in <code class="docutils literal"><span class="pre">http://localhost/pycsw/</span></code></li>
</ol>
<a class="reference internal image-reference" href="../../_images/pycsw_qgis_metasearch_add.png"><img alt="../../_images/pycsw_qgis_metasearch_add.png" src="../../_images/pycsw_qgis_metasearch_add.png" style="width: 489.75px; height: 432.0px;" /></a>
<ol class="arabic simple" start="3">
<li>Add some default servers using the <span class="guilabel">Add default servers</span> button and also get the capabilities of the server using <span class="guilabel">Server info</span> button</li>
</ol>
<a class="reference internal image-reference" href="../../_images/pycsw_qgis_metasearch_server_info.png"><img alt="../../_images/pycsw_qgis_metasearch_server_info.png" src="../../_images/pycsw_qgis_metasearch_server_info.png" style="width: 490.5px; height: 432.0px;" /></a>
<ol class="arabic simple" start="4">
<li>Perform a search using the catalogue, either by a string value or with a bounding box</li>
</ol>
<a class="reference internal image-reference" href="../../_images/pycsw_qgis_metasearch_search.png"><img alt="../../_images/pycsw_qgis_metasearch_search.png" src="../../_images/pycsw_qgis_metasearch_search.png" style="width: 490.5px; height: 434.25px;" /></a>
</div>
<div class="section" id="things-to-try">
<h2><a class="toc-backref" href="#id9">Things to try</a><a class="headerlink" href="#things-to-try" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Try to discover data through the Tester application by setting the appropriate requests eg. any text search with the string 「imagery」 leads to discovering the xml data created previously by EUOSME</li>
</ul>
<a class="reference internal image-reference" href="../../_images/pycsw_tester_discovery.png"><img alt="../../_images/pycsw_tester_discovery.png" src="../../_images/pycsw_tester_discovery.png" style="width: 786.75px; height: 342.0px;" /></a>
<ul class="simple">
<li>Try to discover data through the Python <a class="reference external" href="https://geopython.github.io/OWSLib/#csw">OWSLib CSW</a> interface.</li>
<li>Try to discover data from GeoNode, which is also included in OSGeoLive and uses pycsw as the default CSW engine.</li>
</ul>
</div>
<div class="section" id="what-next">
<h2><a class="toc-backref" href="#id10">What next?</a><a class="headerlink" href="#what-next" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>For more information on pycsw, please consult the <a class="reference external" href="https://pycsw.org/docs/">documentation</a> on the pycsw website.</p>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a>
		</div>
	</font>
    </div>



        
        
<span style="font-size:85%;"><i><a href="../copyright.html">Copyright & Disclaimer</a></i></span>
        


  </body>
</html>