
<!DOCTYPE html>

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>OWSLib Quickstart &#8212; OSGeoLive 17.0 Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/overview.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/../_themes/overview/static/overview.css" />
    <script data-url_root="../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="copyright" title="著作権" href="../copyright.html" />
    <link rel="next" title="JTS" href="../overview/jts_overview.html" />
    <link rel="prev" title="OWSLib" href="../overview/owslib_overview.html" />
	<script type="text/javascript" src="../../_static/osgeolive.js"></script>


  </head><body>

        
        
    <div class="header">
	<div class="banner"><a href="http://live.osgeo.org/"><img src="../../_images/osgeolive-banner.png"></a></div>
        <div class="nowrap">
            <ul id="top-nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../overview/overview.html">Contents</a></li>
              <li><a href="../download.html">Download</a></li>
              <li><a href="../metrics.html">Metrics</a></li>
              <li><a href="../sponsors.html">Sponsors</a></li>
              <li><a href="../contact.html">Contact Us</a></li>
            </ul>
        </div>
    </div>
    </div>
        


    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>

  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <a class="reference external image-reference" href="https://owslib.readthedocs.io/"><img alt="../../_images/logo_owslib.png" class="align-right" src="../../_images/logo_owslib.png" /></a>
<a class="reference external image-reference" href="https://www.osgeo.org"><img alt="../../_images/OSGeo_community.png" class="align-right" src="../../_images/OSGeo_community.png" /></a>
<section id="owslib-quickstart">
<h1>OWSLib Quickstart<a class="headerlink" href="#owslib-quickstart" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>OWSLib is a Python package for client programming with Open Geospatial Consortium (OGC) web service
interface standards, and their related content models.</p>
<p>Included with OSGeoLive, OWSLib offers ready-to-use access to OGC services exposed by
other bundled geospatial applications.</p>
<div class="contents local topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#download-a-wms-image-from-mapserver" id="id1">Download a WMS Image from MapServer</a></p></li>
<li><p><a class="reference internal" href="#inspect-pywps-processes" id="id2">Inspect PyWPS Processes</a></p></li>
<li><p><a class="reference internal" href="#using-csw-with-pycsw" id="id3">Using CSW with pycsw</a></p></li>
<li><p><a class="reference internal" href="#connect-to-the-pygeoapi-ogc-features-api" id="id4">Connect to the pygeoapi OGC Features API</a></p></li>
<li><p><a class="reference internal" href="#what-next" id="id5">What next?</a></p></li>
</ul>
</div>
<section id="download-a-wms-image-from-mapserver">
<h2><a class="toc-backref" href="#id1">Download a WMS Image from MapServer</a><a class="headerlink" href="#download-a-wms-image-from-mapserver" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>An example of connecting to the MapServer demo on OSGeoLive and downloading a WMS image.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python3
&gt;&gt;&gt;<span class="w"> </span>from<span class="w"> </span>owslib.wms<span class="w"> </span>import<span class="w"> </span>WebMapService
&gt;&gt;&gt;<span class="w"> </span><span class="nv">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://localhost/cgi-bin/mapserv?map=/usr/local/www/docs_maps/mapserver_demos/itasca/itasca.map&quot;</span>
&gt;&gt;&gt;<span class="w"> </span><span class="nv">wms</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>WebMapService<span class="o">(</span>url,<span class="w"> </span><span class="nv">version</span><span class="o">=</span><span class="s1">&#39;1.3.0&#39;</span><span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span>wms.identification.title
print<span class="o">(</span>wms.identification.title<span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span>list<span class="o">(</span>wms.contents<span class="o">)</span>
<span class="o">[</span><span class="s1">&#39;ITASCA&#39;</span>,<span class="w"> </span><span class="s1">&#39;drgs&#39;</span>,...
&gt;&gt;&gt;<span class="w"> </span>wms<span class="o">[</span><span class="s1">&#39;mcd90py2&#39;</span><span class="o">]</span>.title
<span class="s1">&#39;Minor Civil Divisions&#39;</span>
&gt;&gt;&gt;<span class="w"> </span>wms<span class="o">[</span><span class="s1">&#39;mcd90py2&#39;</span><span class="o">]</span>.boundingBox
<span class="o">(</span><span class="m">393234</span>.0,<span class="w"> </span><span class="m">5207990</span>.0,<span class="w"> </span><span class="m">495770</span>.0,<span class="w"> </span><span class="m">5305370</span>.0,<span class="w"> </span><span class="s1">&#39;EPSG:26915&#39;</span><span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span>wms<span class="o">[</span><span class="s1">&#39;mcd90py2&#39;</span><span class="o">]</span>.crsOptions
<span class="o">[</span><span class="s1">&#39;EPSG:26915&#39;</span>,<span class="w"> </span><span class="s1">&#39;EPSG:3857&#39;</span><span class="o">]</span>
&gt;&gt;&gt;<span class="w"> </span><span class="nv">img</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>wms.getmap<span class="o">(</span><span class="nv">layers</span><span class="o">=[</span><span class="s1">&#39;ITASCA&#39;</span><span class="o">]</span>,<span class="w"> </span><span class="nv">srs</span><span class="o">=</span><span class="s1">&#39;EPSG:26915&#39;</span>,<span class="w"> </span><span class="nv">bbox</span><span class="o">=(</span><span class="m">393234</span>.0,<span class="w"> </span><span class="m">5207990</span>.0,<span class="w"> </span><span class="m">495770</span>.0,<span class="w"> </span><span class="m">5305370</span>.0<span class="o">)</span>,
<span class="w">             </span><span class="nv">size</span><span class="o">=(</span><span class="m">800</span>,<span class="w"> </span><span class="m">800</span><span class="o">)</span>,<span class="w"> </span><span class="nv">format</span><span class="o">=</span><span class="s1">&#39;image/png&#39;</span>,<span class="w"> </span><span class="nv">transparent</span><span class="o">=</span>True<span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span><span class="nv">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>open<span class="o">(</span><span class="s1">&#39;itasca.png&#39;</span>,<span class="w"> </span><span class="s1">&#39;wb&#39;</span><span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span>out.write<span class="o">(</span>img.read<span class="o">())</span>
&gt;&gt;&gt;<span class="w"> </span>out.close<span class="o">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/itasca.png"><img alt="Output image from MapServer WMS" src="../../_images/itasca.png" style="width: 560.0px; height: 560.0px;" /></a>
</section>
<section id="inspect-pywps-processes">
<h2><a class="toc-backref" href="#id2">Inspect PyWPS Processes</a><a class="headerlink" href="#inspect-pywps-processes" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>An example of connecting to the PyWPS demo server on OSGeoLive and inspecting the available processes.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python3
&gt;&gt;&gt;<span class="w"> </span>from<span class="w"> </span>owslib.wps<span class="w"> </span>import<span class="w"> </span>WebProcessingService
&gt;&gt;&gt;<span class="w"> </span><span class="nv">wps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>WebProcessingService<span class="o">(</span><span class="s1">&#39;http://localhost/pywps/wps.py?&#39;</span><span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span>print<span class="o">(</span>wps.identification<span class="o">)</span>
Service:<span class="w"> </span>WPS,<span class="w"> </span><span class="nv">title</span><span class="o">=</span>PyWPS<span class="w"> </span>Processing<span class="w"> </span>Service
&gt;&gt;&gt;<span class="w"> </span><span class="k">for</span><span class="w"> </span>process<span class="w"> </span><span class="k">in</span><span class="w"> </span>wps.processes:<span class="w"> </span>print<span class="o">(</span>f<span class="s2">&quot;Identifier: {process.identifier}: Title: {process.title}&quot;</span><span class="o">)</span>
Identifier:<span class="w"> </span>say_hello:<span class="w"> </span>Title:<span class="w"> </span>Process<span class="w"> </span>Say<span class="w"> </span>Hello
&gt;&gt;&gt;<span class="w"> </span><span class="nv">inputs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[(</span><span class="s2">&quot;name&quot;</span>,<span class="w"> </span><span class="s2">&quot;OWSLib&quot;</span><span class="o">)]</span>
&gt;&gt;&gt;<span class="w"> </span><span class="nv">execution</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>wps.execute<span class="o">(</span>say_hello_process.identifier,<span class="w"> </span>inputs<span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span><span class="nv">output_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>execution.processOutputs<span class="o">[</span><span class="m">0</span><span class="o">]</span>.data
&gt;&gt;&gt;<span class="w"> </span>print<span class="o">(</span>f<span class="s2">&quot;Output data: {output_data}&quot;</span><span class="o">)</span>
Output<span class="w"> </span>data:<span class="w"> </span><span class="o">[</span><span class="s1">&#39;Hello OWSLib&#39;</span><span class="o">]</span>
</pre></div>
</div>
</section>
<section id="using-csw-with-pycsw">
<h2><a class="toc-backref" href="#id3">Using CSW with pycsw</a><a class="headerlink" href="#using-csw-with-pycsw" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>An example of connecting to the Catalogue Service for the Web (CSW) demo server provided by pycsw on OSGeoLive.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python3
&gt;&gt;&gt;<span class="w"> </span>from<span class="w"> </span>owslib.csw<span class="w"> </span>import<span class="w"> </span>CatalogueServiceWeb
&gt;&gt;&gt;<span class="w"> </span><span class="nv">csw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>CatalogueServiceWeb<span class="o">(</span><span class="s1">&#39;http://localhost/pycsw/&#39;</span><span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span>print<span class="o">(</span>f<span class="s2">&quot;Title {csw.identification.title} Type: {csw.identification.type}&quot;</span><span class="o">)</span>
Title:<span class="w"> </span>pycsw<span class="w"> </span>Geospatial<span class="w"> </span>Catalogue<span class="w"> </span>Type:<span class="w"> </span>CSW
&gt;&gt;&gt;<span class="w"> </span><span class="o">[</span>op.name<span class="w"> </span><span class="k">for</span><span class="w"> </span>op<span class="w"> </span><span class="k">in</span><span class="w"> </span>csw.operations<span class="o">]</span>
<span class="o">[</span><span class="s1">&#39;GetCapabilities&#39;</span>,<span class="w"> </span><span class="s1">&#39;DescribeRecord&#39;</span>,<span class="w"> </span><span class="s1">&#39;GetDomain&#39;</span>,<span class="w"> </span><span class="s1">&#39;GetRecords&#39;</span>,<span class="w"> </span><span class="s1">&#39;GetRecordById&#39;</span>,<span class="w"> </span><span class="s1">&#39;GetRepositoryItem&#39;</span><span class="o">]</span>
&gt;&gt;&gt;<span class="w"> </span>from<span class="w"> </span>owslib.fes<span class="w"> </span>import<span class="w"> </span>PropertyIsEqualTo,<span class="w"> </span>PropertyIsLike,<span class="w"> </span>BBox
&gt;&gt;&gt;<span class="w"> </span><span class="nv">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>PropertyIsEqualTo<span class="o">(</span><span class="s1">&#39;csw:AnyText&#39;</span>,<span class="w"> </span><span class="s1">&#39;Lorem ipsum&#39;</span><span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span>csw.getrecords2<span class="o">(</span><span class="nv">constraints</span><span class="o">=[</span>query<span class="o">]</span>,<span class="w"> </span><span class="nv">maxrecords</span><span class="o">=</span><span class="m">20</span><span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span>csw.results
<span class="o">{</span><span class="s1">&#39;matches&#39;</span>:<span class="w"> </span><span class="m">2</span>,<span class="w"> </span><span class="s1">&#39;returned&#39;</span>:<span class="w"> </span><span class="m">2</span>,<span class="w"> </span><span class="s1">&#39;nextrecord&#39;</span>:<span class="w"> </span><span class="m">0</span><span class="o">}</span>
&gt;&gt;&gt;<span class="w"> </span><span class="k">for</span><span class="w"> </span>rec<span class="w"> </span><span class="k">in</span><span class="w"> </span>csw.records:<span class="w"> </span>print<span class="o">(</span>csw.records<span class="o">[</span>rec<span class="o">]</span>.abstract<span class="o">)</span>
Quisque<span class="w"> </span>lacus<span class="w"> </span>diam,<span class="w"> </span>placerat<span class="w"> </span>mollis,<span class="w"> </span>pharetra<span class="w"> </span><span class="k">in</span>,<span class="w"> </span>commodo<span class="w"> </span>sed,<span class="w"> </span>augue.<span class="w"> </span>Duis<span class="w"> </span>iaculis<span class="w"> </span>arcu<span class="w"> </span>vel<span class="w"> </span>arcu.
None
</pre></div>
</div>
</section>
<section id="connect-to-the-pygeoapi-ogc-features-api">
<h2><a class="toc-backref" href="#id4">Connect to the pygeoapi OGC Features API</a><a class="headerlink" href="#connect-to-the-pygeoapi-ogc-features-api" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>An example of connecting to the pygeoapi demo server on OSGeoLive and retrieving a feature collection, using
the OGC Features API.</p>
<p>To run the example below on OSGeoLive, first ensure the pygeoapi demo server is
running. From the desktop, choose <span class="menuselection">Geospatial ‣ Web Services ‣ Start pygeoapi</span>.
Then, in a terminal, run the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python3
&gt;&gt;&gt;<span class="w"> </span>from<span class="w"> </span>owslib.ogcapi.features<span class="w"> </span>import<span class="w"> </span>Features
&gt;&gt;&gt;<span class="w"> </span><span class="nv">service</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>Features<span class="o">(</span><span class="s2">&quot;http://localhost:5000/&quot;</span><span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span><span class="nv">feature_collections</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>service.feature_collections<span class="o">()</span>
&gt;&gt;&gt;<span class="w"> </span>print<span class="o">(</span>feature_collections<span class="o">)</span>
<span class="o">[</span><span class="s1">&#39;lakes&#39;</span><span class="o">]</span>
&gt;&gt;&gt;<span class="w"> </span><span class="nv">lake</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>service.collection_items<span class="o">(</span><span class="s1">&#39;lakes&#39;</span>,<span class="w"> </span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;Lake Victoria&#39;</span><span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span>import<span class="w"> </span>json
&gt;&gt;&gt;<span class="w"> </span>print<span class="o">(</span>json.dumps<span class="o">(</span>lake,<span class="w"> </span><span class="nv">indent</span><span class="o">=</span><span class="m">4</span><span class="o">))</span>
<span class="o">{</span>
<span class="s2">&quot;type&quot;</span>:<span class="w"> </span><span class="s2">&quot;FeatureCollection&quot;</span>,
<span class="s2">&quot;features&quot;</span>:<span class="w"> </span><span class="o">[</span>
<span class="w">    </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;type&quot;</span>:<span class="w"> </span><span class="s2">&quot;Feature&quot;</span>,
<span class="w">        </span><span class="s2">&quot;properties&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="s2">&quot;id&quot;</span>:<span class="w"> </span><span class="m">6</span>,
<span class="w">            </span><span class="s2">&quot;scalerank&quot;</span>:<span class="w"> </span><span class="m">0</span>,
<span class="w">            </span><span class="s2">&quot;name&quot;</span>:<span class="w"> </span><span class="s2">&quot;Lake Victoria&quot;</span>,
</pre></div>
</div>
</section>
<section id="what-next">
<h2><a class="toc-backref" href="#id5">What next?</a><a class="headerlink" href="#what-next" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>OSGeoLive includes a set of Jupyter notebooks, including examples of OWSLib usage, and providing more
details on the examples above. From the desktop, choose <span class="menuselection">Geospatial ‣ Spatial Tools ‣ Jupyter Notebook</span>.</p>
<p>The <a class="reference external" href="https://geopython.github.io/geopython-workshop/">Doing Geospatial in Python</a> workshop also includes several notebooks demonstrating OWSLib usage.</p>
<p>For more information on OWSLib, please consult the <a class="reference external" href="https://owslib.readthedocs.io">documentation</a> on the OWSLib website.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>



        
        
<span style="font-size:85%;"><i><a href="../copyright.html">Copyright & Disclaimer</a></i></span>
        


  </body>
</html>