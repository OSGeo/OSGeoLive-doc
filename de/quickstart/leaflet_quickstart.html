
<!DOCTYPE html>

<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Leaflet Quickstart &#8212; OSGeoLive 15.0 Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/overview.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/../_themes/overview/static/overview.css" />
    <script data-url_root="../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="deegree" href="../overview/deegree_overview.html" />
    <link rel="prev" title="Leaflet" href="../overview/leaflet_overview.html" />
	<script type="text/javascript" src="../../_static/osgeolive.js"></script>


  </head><body>

        
        
    <div class="header">
	<div class="banner"><a href="http://live.osgeo.org/"><img src="../../_images/osgeolive-banner.png"></a></div>
        <div class="nowrap">
            <ul id="top-nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../overview/overview.html">Contents</a></li>
              <li><a href="../download.html">Download</a></li>
              <li><a href="../metrics.html">Metrics</a></li>
              <li><a href="../sponsors.html">Sponsors</a></li>
              <li><a href="../contact.html">Contact Us</a></li>
            </ul>
        </div>
    </div>
    </div>
        


    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>

  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <a class="reference external image-reference" href="https://leafletjs.com"><img alt="../../_images/logo_leaflet.png" class="align-right" src="../../_images/logo_leaflet.png" /></a>
<section id="leaflet-quickstart">
<h1><a class="toc-backref" href="#id1">Leaflet Quickstart</a><a class="headerlink" href="#leaflet-quickstart" title="Link zu dieser Überschrift">¶</a></h1>
<p>Leaflet ist eine JavaScript-Bibliothek für Browser-basierte, mobil-freundliche, interaktive Karten.  Leaflet ist leicht, verfügt über alle Funktionen, die die meisten Entwicker für Online-Karten benötigen. Leaflet ist mit einfach, performant und benutzerfreundlich.</p>
<div class="contents topic" id="contents">
<p class="topic-title">Inhalt</p>
<ul class="simple">
<li><p><a class="reference internal" href="#leaflet-quickstart" id="id1">Leaflet Quickstart</a></p>
<ul>
<li><p><a class="reference internal" href="#running" id="id2">Vorbereitung</a></p></li>
<li><p><a class="reference internal" href="#preparing-your-page" id="id3">Vorbereitung ihrer Seite</a></p></li>
<li><p><a class="reference internal" href="#setting-up-the-map" id="id4">Einrichten der Karte</a></p></li>
<li><p><a class="reference internal" href="#markers-circles-and-polygons" id="id5">Marker, Kreise und Polygone</a></p></li>
<li><p><a class="reference internal" href="#working-with-popups" id="id6">Arbeiten mit Popups</a></p></li>
<li><p><a class="reference internal" href="#dealing-with-events" id="id7">Umgang mit Events (Ereignissen)</a></p></li>
<li><p><a class="reference internal" href="#what-next" id="id8">Was kommt als Nächstes?</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="running">
<h2><a class="toc-backref" href="#id2">Vorbereitung</a><a class="headerlink" href="#running" title="Link zu dieser Überschrift">¶</a></h2>
<p>Prior to running this quick start you should start MapProxy. On OSGeoLive this can be found under <strong>Geospatial\Web Services\MapProxy\Start MapProxy</strong>.
This will provide background tiles that will be used in this demo.</p>
<p>Link zum <a class="reference external" href="http://localhost/leaflet-demo.html">example</a></p>
<div class="admonition tip">
<p class="admonition-title">Tipp</p>
<p>Wenn Sie dieses Quickstart außerhalb von OSGeoLive lesen, können Sie es vielleicht besser die Original-Demo auf <a class="reference external" href="https://leafletjs.com/examples/quick-start/">https://leafletjs.com/examples/quick-start/</a> anschauen, da diese nicht lokal auf Tilestache zugreift.</p>
</div>
</section>
<section id="preparing-your-page">
<h2><a class="toc-backref" href="#id3">Vorbereitung ihrer Seite</a><a class="headerlink" href="#preparing-your-page" title="Link zu dieser Überschrift">¶</a></h2>
<p>Bevor Sie irgendeinen Code für ihre Kartenanwendung schreiben, müssen Sie die folgenden Vorbereitungsschritte auf Ihrer Seite ausführen:</p>
<ul class="simple">
<li><p>Binden Sie die Leaflet CSS-Dateien in den header-Bereich Ihres Dokuments ein</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/leaflet/leaflet.css&quot;</span> <span class="p">/&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Binden Sie die Leaflet JavaScript-Datei ein:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;/leaflet/leaflet.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Erstellen Sie ein <strong>div</strong>-Element mit einer bestimmten <strong>id</strong>, an der Stelle, an der sich Ihre Karte befinden soll:</p></li>
</ul>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;map&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Stellen Sie sicher, dass der map-Container eine definierte Höhe hat, z. B. indem Sie es im CSS festlegen:</p></li>
</ul>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">#</span><span class="nn">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="kt">px</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>Jetzt sind Sie bereit, die Karte zu initialisieren und einige Dinge mit ihr zu tun.</p>
</section>
<section id="setting-up-the-map">
<h2><a class="toc-backref" href="#id4">Einrichten der Karte</a><a class="headerlink" href="#setting-up-the-map" title="Link zu dieser Überschrift">¶</a></h2>
<p>Let’s create a map of Firenze, Italy with an indication of the 2022 FOSS4G conference. First we’ll initialize the map and set its view to our chosen geographical coordinates and a zoom level:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">).</span><span class="nx">setView</span><span class="p">([</span><span class="mf">43.77913</span><span class="p">,</span><span class="w"> </span><span class="mf">11.24938</span><span class="p">],</span><span class="w"> </span><span class="mf">15</span><span class="p">);</span>
</pre></div>
</div>
<p>Standardmäßig (da wir beim Erstellen der Karteninstanz keine Optionen übergeben haben) sind alle Maus- und Touchinteraktionen auf der Karte aktiviert, und sie verfügt über Zoom- und Attributions-Steuerelemente.</p>
<p>Beachten Sie, dass der setView-Aufruf auch das Map-Objekt zurückgibt - die meisten Leaflet-Methoden verhalten sich so, wenn sie keinen expliziten Wert zurückgeben. Dies ermöglicht eine bequeme jQuery-ähnliche Methodenverkettung ermöglicht.</p>
<p>Next we’ll add a tile layer to our map.
In this case we will be using the tile images provided by MapProxy on the live dvd. Note that using nicer background maps such as openstreetmap will result in a much better user experience.</p>
<p>Das Erstellen eines Kachel-Layers umfasst in der Regel das Festlegen der URL für die Kachelbilder, den Quellenverweis und die maximale Zoomstufe des Layers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">L</span><span class="o">.</span><span class="n">tileLayer</span><span class="p">(</span><span class="s1">&#39;http://localhost:8011/wmts/mapnik_tile/GLOBAL_WEBMERCATOR/</span><span class="si">{z}</span><span class="s1">/</span><span class="si">{x}</span><span class="s1">/</span><span class="si">{y}</span><span class="s1">.png&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">addTo</span><span class="p">(</span><span class="nb">map</span><span class="p">);</span>
</pre></div>
</div>
<p>Wenn Sie Internetzugriff haben, können Sie eine schönere gekachelte Karte als Hintergrund verwenden:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">L</span><span class="o">.</span><span class="n">tileLayer</span><span class="p">(</span><span class="s1">&#39;http://</span><span class="si">{s}</span><span class="s1">.tile.openstreetmap.org/</span><span class="si">{z}</span><span class="s1">/</span><span class="si">{x}</span><span class="s1">/</span><span class="si">{y}</span><span class="s1">.png&#39;</span><span class="p">,{</span><span class="n">maxZoom</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span> <span class="n">attribution</span><span class="p">:</span> <span class="s1">&#39;© &lt;a href=&quot;https://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt; contributors&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">addTo</span><span class="p">(</span><span class="nb">map</span><span class="p">);</span>
</pre></div>
</div>
<p>Stellen Sie sicher, dass der gesamte Code nach dem Aufruf des <strong>div</strong> und der <strong>leaflet.js</strong> erfolgt. Das wars! Sie haben jetzt eine funktionierende Leaflet-Karte.</p>
<p>Es ist erwähnenswert, dass Leaflet anbieterunabhängig ist, was bedeutet, dass es keine bestimmte Auswahl von Anbietern für Kacheln erzwingt und nicht einmal eine einzige anbieterspezifische Codezeile enthält, sodass Sie frei ihren Anbieter auswählen können.</p>
</section>
<section id="markers-circles-and-polygons">
<h2><a class="toc-backref" href="#id5">Marker, Kreise und Polygone</a><a class="headerlink" href="#markers-circles-and-polygons" title="Link zu dieser Überschrift">¶</a></h2>
<p>Neben Kachel-Layern können Sie ganz einfach weitere Objekte zu Ihrer Karte hinzufügen, einschließlich Markern Polylinien, Polygonen, Kreisen und Popups. Fügen wir einen Marker hinzu:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">marker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">marker</span><span class="p">([</span><span class="mf">43.77913</span><span class="p">,</span><span class="w"> </span><span class="mf">11.24938</span><span class="p">]).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
</pre></div>
</div>
<p>Das Hinzufügen eines Kreises ist identisch (mit Ausnahme der Angabe des Radius in Metern als zweites Argument), Sie können jedoch steuern, wie er aussieht, indem Sie Optionen als letztes Argument beim Erstellen des Objekts übergeben:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">circle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">circle</span><span class="p">([</span><span class="mf">43.777</span><span class="p">,</span><span class="w"> </span><span class="mf">11.255</span><span class="p">],</span><span class="w"> </span><span class="mf">250</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
<span class="w">   </span><span class="nx">fillColor</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;#f03&#39;</span><span class="p">,</span>
<span class="w">   </span><span class="nx">fillOpacity</span><span class="o">:</span><span class="w"> </span><span class="mf">0.5</span>
<span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
</pre></div>
</div>
<p>Das Hinzufügen eines Polygons ist ebenso einfach:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">polygon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">polygon</span><span class="p">([</span>
<span class="w">    </span><span class="p">[</span><span class="mf">43.775</span><span class="p">,</span><span class="w"> </span><span class="mf">11.247</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="mf">43.784</span><span class="p">,</span><span class="w"> </span><span class="mf">11.240</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="mf">43.778</span><span class="p">,</span><span class="w"> </span><span class="mf">11.238</span><span class="p">]</span>
<span class="p">]).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="working-with-popups">
<h2><a class="toc-backref" href="#id6">Arbeiten mit Popups</a><a class="headerlink" href="#working-with-popups" title="Link zu dieser Überschrift">¶</a></h2>
<p>Popups werden normalerweise verwendet, wenn Sie einige Informationen an ein bestimmtes Objekt auf einer Karte anfügen möchten. Leaflet hat eine sehr praktische Abkürzung für diese:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">popup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">popup</span><span class="p">()</span>
<span class="w">   </span><span class="p">.</span><span class="nx">setLatLng</span><span class="p">([</span><span class="mf">43.77913</span><span class="p">,</span><span class="w"> </span><span class="mf">11.24938</span><span class="p">])</span>
<span class="w">   </span><span class="p">.</span><span class="nx">setContent</span><span class="p">(</span><span class="s2">&quot;FOSS4G is here this year!&quot;</span><span class="p">)</span>
<span class="w">   </span><span class="p">.</span><span class="nx">openOn</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
</pre></div>
</div>
<p>Hier verwenden wir <strong>openOn</strong> anstelle von <strong>addTo</strong>, da es das automatische Schließen eines zuvor geöffneten Popups durchführt, wenn ein neues geöffnet wird. Dies ist gut für die Benutzerfreundlichkeit.</p>
</section>
<section id="dealing-with-events">
<h2><a class="toc-backref" href="#id7">Umgang mit Events (Ereignissen)</a><a class="headerlink" href="#dealing-with-events" title="Link zu dieser Überschrift">¶</a></h2>
<p>Jedes Mal, wenn etwas in Leaflet passiert, z.B. wenn der Benutzer auf eine Markierung klickt oder sich die Zoomstufe ändert, sendet das entsprechende Objekt ein Ereignis, das Sie mit einer Funktion abonnieren können. Dies ermöglicht Ihnen, auf Benutzerinteraktion zu reagieren:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span><span class="w"> </span><span class="nx">onMapClick</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;You clicked the map at &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">latlng</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">map</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">onMapClick</span><span class="p">);</span>
</pre></div>
</div>
<p>Jedes Objekt hat seinen eigenen Satz von Events - siehe <a class="reference external" href="https://leafletjs.com/reference.html">Dokumentation</a> für Details. Das erste Argument der Listener-Funktion ist ein Ereignisobjekt - es enthält nützliche Informationen über das Ereignis, das aufgetreten ist. Beispielsweise verfügt das map click-Ereignisobjekt (e im obigen Beispiel) über die latlng-Eigenschaft, an der das Klickereignis erfolgte.</p>
<p>Lassen Sie uns unser Beispiel verbessern, indem wir ein Popup anstelle einer Warnung verwenden:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">popup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">popup</span><span class="p">();</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">onMapClick</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nx">popup</span>
<span class="w">        </span><span class="p">.</span><span class="nx">setLatLng</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">latlng</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="nx">setContent</span><span class="p">(</span><span class="s2">&quot;You clicked the map at &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">latlng</span><span class="p">.</span><span class="nx">toString</span><span class="p">())</span>
<span class="w">         </span><span class="p">.</span><span class="nx">openOn</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">map</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">onMapClick</span><span class="p">);</span>
</pre></div>
</div>
<p>Klicken Sie, in  die Karte und Sie werden die Koordinaten in einem Popup sehen. Lassen Sie sich das vollständige Beispiel <a class="reference external" href="http://localhost/leaflet-demo.html">anzeigen</a></p>
</section>
<section id="what-next">
<h2><a class="toc-backref" href="#id8">Was kommt als Nächstes?</a><a class="headerlink" href="#what-next" title="Link zu dieser Überschrift">¶</a></h2>
<p>Jetzt haben Sie die Grundlagen von Leaflet gelernt und können sofort mit dem Erstellen von Karten-Anwendungen beginnen! Vergessen Sie nicht, einen Blick in die detaillierte <a class="reference external" href="https://leafletjs.com/examples.html">Dokumentation</a> oder andere <a class="reference external" href="https://leafletjs.com/reference.html">Beispiele</a> zu werfen.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a>
		</div>
	</font>
    </div>



        
        
<span style="font-size:85%;"><i><a href="../copyright.html">Copyright & Disclaimer</a></i></span>
        


  </body>
</html>