
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="de">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Leaflet Quickstart &#8212; OSGeoLive 14.0 Documentation</title>
    <link rel="stylesheet" href="../../_static/overview.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '14.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="deegree" href="../overview/deegree_overview.html" />
    <link rel="prev" title="Leaflet" href="../overview/leaflet_overview.html" />
	<script type="text/javascript" src="../../_static/osgeolive.js"></script>


  </head>
  <body>

        
        
    <div class="header">
	<div class="banner"><a href="http://live.osgeo.org/"><img src="../../_images/banner.png"></a></div>
        <div class="nowrap">
            <ul id="top-nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../overview/overview.html">Contents</a></li>
              <li><a href="../download.html">Download</a></li>
              <li><a href="../metrics.html">Metrics</a></li>
              <li><a href="../sponsors.html">Sponsors</a></li>
              <li><a href="../contact.html">Contact Us</a></li>
            </ul>
        </div>
    </div>
    </div> 
        


    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a>
		</div>
	</font>
    </div>



    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <a class="reference external image-reference" href="https://leafletjs.com"><img alt="../../_images/logo_leaflet.png" class="align-right" src="../../_images/logo_leaflet.png" /></a>
<div class="section" id="leaflet-quickstart">
<h1><a class="toc-backref" href="#id1">Leaflet Quickstart</a><a class="headerlink" href="#leaflet-quickstart" title="Link zu dieser Überschrift">¶</a></h1>
<p>Leaflet ist eine JavaScript-Bibliothek für Browser-basierte, mobil-freundliche, interaktive Karten.  Leaflet ist leicht, verfügt über alle Funktionen, die die meisten Entwicker für Online-Karten benötigen. Leaflet ist mit einfach, performant und benutzerfreundlich.</p>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#leaflet-quickstart" id="id1">Leaflet Quickstart</a><ul>
<li><a class="reference internal" href="#running" id="id2">Vorbereitung</a></li>
<li><a class="reference internal" href="#preparing-your-page" id="id3">Vorbereitung ihrer Seite</a></li>
<li><a class="reference internal" href="#setting-up-the-map" id="id4">Einrichten der Karte</a></li>
<li><a class="reference internal" href="#markers-circles-and-polygons" id="id5">Marker, Kreise und Polygone</a></li>
<li><a class="reference internal" href="#working-with-popups" id="id6">Arbeiten mit Popups</a></li>
<li><a class="reference internal" href="#dealing-with-events" id="id7">Umgang mit Events (Ereignissen)</a></li>
<li><a class="reference internal" href="#what-next" id="id8">Was kommt als Nächstes?</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="running">
<h2><a class="toc-backref" href="#id2">Vorbereitung</a><a class="headerlink" href="#running" title="Link zu dieser Überschrift">¶</a></h2>
<p>Starten Sie TileStache, bevor Sie mit diesem Quickstart beginnen. Sie finden es auf dieser live DVD unter <strong>Geospatial\Spatial Tools\Start Mapnik &amp; TileStache</strong>. TileStache liefert die Hintergrundkacheln welche in dieser Demo verwendet werden.</p>
<p>Link zum <a class="reference external" href="http://localhost/leaflet-demo.html">example</a></p>
<div class="admonition tip">
<p class="first admonition-title">Tipp</p>
<p class="last">Wenn Sie dieses Quickstart außerhalb von OSGeoLive lesen, können Sie es vielleicht besser die Original-Demo auf <a class="reference external" href="https://leafletjs.com/examples/quick-start/">https://leafletjs.com/examples/quick-start/</a> anschauen, da diese nicht lokal auf Tilestache zugreift.</p>
</div>
</div>
<div class="section" id="preparing-your-page">
<h2><a class="toc-backref" href="#id3">Vorbereitung ihrer Seite</a><a class="headerlink" href="#preparing-your-page" title="Link zu dieser Überschrift">¶</a></h2>
<p>Bevor Sie irgendeinen Code für ihre Kartenanwendung schreiben, müssen Sie die folgenden Vorbereitungsschritte auf Ihrer Seite ausführen:</p>
<ul class="simple">
<li>Binden Sie die Leaflet CSS-Dateien in den header-Bereich Ihres Dokuments ein</li>
</ul>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/leaflet/leaflet.css&quot;</span> <span class="p">/&gt;</span>
<span class="c">&lt;!--[if lte IE 8]&gt;</span>
<span class="c">    &lt;link rel=&quot;stylesheet&quot; href=&quot;/leaflet/leaflet.ie.css&quot; /&gt;</span>
<span class="c">&lt;![endif]--&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li>Binden Sie die Leaflet JavaScript-Datei ein:</li>
</ul>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;/leaflet/leaflet.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li>Erstellen Sie ein <strong>div</strong>-Element mit einer bestimmten <strong>id</strong>, an der Stelle, an der sich Ihre Karte befinden soll:</li>
</ul>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;map&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li>Stellen Sie sicher, dass der map-Container eine definierte Höhe hat, z. B. indem Sie es im CSS festlegen:</li>
</ul>
<div class="highlight-css"><div class="highlight"><pre><span></span><span class="p">#</span><span class="nn">map</span> <span class="p">{</span> <span class="k">height</span><span class="p">:</span> <span class="mi">180</span><span class="kt">px</span><span class="p">;</span> <span class="p">}</span>
</pre></div>
</div>
<p>Jetzt sind Sie bereit, die Karte zu initialisieren und einige Dinge mit ihr zu tun.</p>
</div>
<div class="section" id="setting-up-the-map">
<h2><a class="toc-backref" href="#id4">Einrichten der Karte</a><a class="headerlink" href="#setting-up-the-map" title="Link zu dieser Überschrift">¶</a></h2>
<p>Erstellen wir eine Karte von Ostafrika mit einem Hinweis auf die FOSS4G-Konferenz 2018. Zuerst initialisieren wir die Karte und legen die Ansicht auf unsere gewählten geographischen Koordinaten und eine Zoomstufe fest:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">).</span><span class="nx">setView</span><span class="p">([</span><span class="mf">44.43743</span><span class="p">,</span> <span class="mf">26.104</span><span class="p">],</span> <span class="mf">15</span><span class="p">);</span>
</pre></div>
</div>
<p>Standardmäßig (da wir beim Erstellen der Karteninstanz keine Optionen übergeben haben) sind alle Maus- und Touchinteraktionen auf der Karte aktiviert, und sie verfügt über Zoom- und Attributions-Steuerelemente.</p>
<p>Beachten Sie, dass der setView-Aufruf auch das Map-Objekt zurückgibt - die meisten Leaflet-Methoden verhalten sich so, wenn sie keinen expliziten Wert zurückgeben. Dies ermöglicht eine bequeme jQuery-ähnliche Methodenverkettung ermöglicht.</p>
<p>Als Nächstes fügen wir unserer Karte einen Kachel-Layer hinzu. In diesem Fall verwenden wir die von TileStache bereitgestellten Kachelbilder auf OSGeoLive. Beachten Sie, dass die Verwendung von schöneren Hintergrundkarten wie OpenStreetMap zu einer viel besseren Benutzererfahrung führt.</p>
<p>Das Erstellen eines Kachel-Layers umfasst in der Regel das Festlegen der URL für die Kachelbilder, den Quellenverweis und die maximale Zoomstufe des Layers:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">L</span><span class="o">.</span><span class="n">tileLayer</span><span class="p">(</span><span class="s1">&#39;http://localhost:8012/example/</span><span class="si">{z}</span><span class="s1">/</span><span class="si">{x}</span><span class="s1">/</span><span class="si">{y}</span><span class="s1">.png,</span><span class="si">{}</span><span class="s1">).addTo(map);</span>
</pre></div>
</div>
<p>Wenn Sie Internetzugriff haben, können Sie eine schönere gekachelte Karte als Hintergrund verwenden:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">L</span><span class="o">.</span><span class="n">tileLayer</span><span class="p">(</span><span class="s1">&#39;http://</span><span class="si">{s}</span><span class="s1">.tile.openstreetmap.org/</span><span class="si">{z}</span><span class="s1">/</span><span class="si">{x}</span><span class="s1">/</span><span class="si">{y}</span><span class="s1">.png&#39;</span><span class="p">,{</span><span class="n">maxZoom</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span> <span class="n">attribution</span><span class="p">:</span> <span class="s1">&#39;© &lt;a href=&quot;https://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt; contributors&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">addTo</span><span class="p">(</span><span class="nb">map</span><span class="p">);</span>
</pre></div>
</div>
<p>Stellen Sie sicher, dass der gesamte Code nach dem Aufruf des <strong>div</strong> und der <strong>leaflet.js</strong> erfolgt. Das wars! Sie haben jetzt eine funktionierende Leaflet-Karte.</p>
<p>Es ist erwähnenswert, dass Leaflet anbieterunabhängig ist, was bedeutet, dass es keine bestimmte Auswahl von Anbietern für Kacheln erzwingt und nicht einmal eine einzige anbieterspezifische Codezeile enthält, sodass Sie frei ihren Anbieter auswählen können.</p>
</div>
<div class="section" id="markers-circles-and-polygons">
<h2><a class="toc-backref" href="#id5">Marker, Kreise und Polygone</a><a class="headerlink" href="#markers-circles-and-polygons" title="Link zu dieser Überschrift">¶</a></h2>
<p>Neben Kachel-Layern können Sie ganz einfach weitere Objekte zu Ihrer Karte hinzufügen, einschließlich Markern Polylinien, Polygonen, Kreisen und Popups. Fügen wir einen Marker hinzu:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">marker</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">marker</span><span class="p">([</span><span class="mf">44.437</span> <span class="p">,</span><span class="mf">26.104</span><span class="p">]).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
</pre></div>
</div>
<p>Das Hinzufügen eines Kreises ist identisch (mit Ausnahme der Angabe des Radius in Metern als zweites Argument), Sie können jedoch steuern, wie er aussieht, indem Sie Optionen als letztes Argument beim Erstellen des Objekts übergeben:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">circle</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">circle</span><span class="p">([</span><span class="mf">44.435</span><span class="p">,</span> <span class="mf">26.11</span><span class="p">],</span> <span class="mf">250</span><span class="p">,</span> <span class="p">{</span>
   <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span>
   <span class="nx">fillColor</span><span class="o">:</span> <span class="s1">&#39;#f03&#39;</span><span class="p">,</span>
   <span class="nx">fillOpacity</span><span class="o">:</span> <span class="mf">0.5</span>
<span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
</pre></div>
</div>
<p>Das Hinzufügen eines Polygons ist ebenso einfach:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">polygon</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">polygon</span><span class="p">([</span>
    <span class="p">[</span><span class="mf">44.433</span><span class="p">,</span> <span class="mf">26.102</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">44.442</span><span class="p">,</span> <span class="mf">26.095</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">44.436</span><span class="p">,</span> <span class="mf">26.093</span><span class="p">]</span>
<span class="p">]).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="working-with-popups">
<h2><a class="toc-backref" href="#id6">Arbeiten mit Popups</a><a class="headerlink" href="#working-with-popups" title="Link zu dieser Überschrift">¶</a></h2>
<p>Popups werden normalerweise verwendet, wenn Sie einige Informationen an ein bestimmtes Objekt auf einer Karte anfügen möchten. Leaflet hat eine sehr praktische Abkürzung für diese:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">popup</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">popup</span><span class="p">()</span>
   <span class="p">.</span><span class="nx">setLatLng</span><span class="p">([</span><span class="mf">44.437</span><span class="p">,</span> <span class="mf">26.104</span><span class="p">])</span>
   <span class="p">.</span><span class="nx">setContent</span><span class="p">(</span><span class="s2">&quot;I am a standalone popup.&quot;</span><span class="p">)</span>
   <span class="p">.</span><span class="nx">openOn</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
</pre></div>
</div>
<p>Hier verwenden wir <strong>openOn</strong> anstelle von <strong>addTo</strong>, da es das automatische Schließen eines zuvor geöffneten Popups durchführt, wenn ein neues geöffnet wird. Dies ist gut für die Benutzerfreundlichkeit.</p>
</div>
<div class="section" id="dealing-with-events">
<h2><a class="toc-backref" href="#id7">Umgang mit Events (Ereignissen)</a><a class="headerlink" href="#dealing-with-events" title="Link zu dieser Überschrift">¶</a></h2>
<p>Jedes Mal, wenn etwas in Leaflet passiert, z.B. wenn der Benutzer auf eine Markierung klickt oder sich die Zoomstufe ändert, sendet das entsprechende Objekt ein Ereignis, das Sie mit einer Funktion abonnieren können. Dies ermöglicht Ihnen, auf Benutzerinteraktion zu reagieren:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">onMapClick</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;You clicked the map at &quot;</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">latlng</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">map</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">onMapClick</span><span class="p">);</span>
</pre></div>
</div>
<p>Jedes Objekt hat seinen eigenen Satz von Events - siehe <a class="reference external" href="https://leafletjs.com/reference.html">Dokumentation</a> für Details. Das erste Argument der Listener-Funktion ist ein Ereignisobjekt - es enthält nützliche Informationen über das Ereignis, das aufgetreten ist. Beispielsweise verfügt das map click-Ereignisobjekt (e im obigen Beispiel) über die latlng-Eigenschaft, an der das Klickereignis erfolgte.</p>
<p>Lassen Sie uns unser Beispiel verbessern, indem wir ein Popup anstelle einer Warnung verwenden:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">popup</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">popup</span><span class="p">();</span>

<span class="kd">function</span> <span class="nx">onMapClick</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">popup</span>
        <span class="p">.</span><span class="nx">setLatLng</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">latlng</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">setContent</span><span class="p">(</span><span class="s2">&quot;You clicked the map at &quot;</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">latlng</span><span class="p">.</span><span class="nx">toString</span><span class="p">())</span>
         <span class="p">.</span><span class="nx">openOn</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">map</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">onMapClick</span><span class="p">);</span>
</pre></div>
</div>
<p>Klicken Sie, in  die Karte und Sie werden die Koordinaten in einem Popup sehen. Lassen Sie sich das vollständige Beispiel <a class="reference external" href="http://localhost/leaflet-demo.html">anzeigen</a></p>
</div>
<div class="section" id="what-next">
<h2><a class="toc-backref" href="#id8">Was kommt als Nächstes?</a><a class="headerlink" href="#what-next" title="Link zu dieser Überschrift">¶</a></h2>
<p>Jetzt haben Sie die Grundlagen von Leaflet gelernt und können sofort mit dem Erstellen von Karten-Anwendungen beginnen! Vergessen Sie nicht, einen Blick in die detaillierte <a class="reference external" href="https://leafletjs.com/examples.html">Dokumentation</a> oder andere <a class="reference external" href="https://leafletjs.com/reference.html">Beispiele</a> zu werfen.</p>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a>
		</div>
	</font>
    </div>



        
        
<span style="font-size:85%;"><i><a href="../copyright.html">Copyright & Disclaimer</a></i></span>
        


  </body>
</html>