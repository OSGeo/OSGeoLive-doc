
<!DOCTYPE html>

<html lang="sv">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>SpatiaLite Snabbstart &#8212; OSGeoLive 17.0 Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/overview.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/../_themes/overview/static/overview.css" />
    <script data-url_root="../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Sök" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Marble" href="../overview/marble_overview.html" />
    <link rel="prev" title="SpatiaLite" href="../overview/spatialite_overview.html" />
	<script type="text/javascript" src="../../_static/osgeolive.js"></script>


  </head><body>

        
        
    <div class="header">
	<div class="banner"><a href="http://live.osgeo.org/"><img src="../../_images/osgeolive-banner.png"></a></div>
        <div class="nowrap">
            <ul id="top-nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../overview/overview.html">Contents</a></li>
              <li><a href="../download.html">Download</a></li>
              <li><a href="../metrics.html">Metrics</a></li>
              <li><a href="../sponsors.html">Sponsors</a></li>
              <li><a href="../contact.html">Contact Us</a></li>
            </ul>
        </div>
    </div>
    </div>
        


    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a> |   <a href="javascript:defaultRedirect('sv')">Svenska</a>
		</div>
	</font>
    </div>

  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <a class="reference external image-reference" href="http://www.gaia-gis.it/gaia-sins/"><img alt="../../_images/logo_spatialite.png" class="align-right" src="../../_images/logo_spatialite.png" /></a>
<section id="spatialite-quickstart">
<h1>SpatiaLite Snabbstart<a class="headerlink" href="#spatialite-quickstart" title="Permalink till denna rubrik">¶</a></h1>
<p>SpatiaLite är en SQLite-databasmotor med spatiala funktioner.</p>
<p>SQLite är ett databashanteringssystem (DBMS) som är enkelt, robust, lättanvänt och mycket lättviktigt. Varje SQLite-databas är helt enkelt en fil. Du kan fritt kopiera den, komprimera den och porta den mellan Windows, Linux, MacOs etc.</p>
<p>I denna snabbstart beskrivs hur du öppnar en spatialite-databas från både GUI-program och kommandoraden. Några exempel på SQL-frågor visas.</p>
<div class="contents local topic" id="contents">
<p class="topic-title">Innehåll</p>
<ul class="simple">
<li><p><a class="reference internal" href="#start-spatialite-and-load-a-database" id="id1">Starta Spatialite och ladda en databas</a></p></li>
<li><p><a class="reference internal" href="#run-an-sql-query" id="id2">Kör en SQL-fråga</a></p></li>
<li><p><a class="reference internal" href="#run-spatialite-from-the-command-line" id="id3">Kör spatialite från kommandoraden</a></p></li>
<li><p><a class="reference internal" href="#create-a-new-spatialite-database-and-load-a-shapefile" id="id4">Skapa en ny spatialite-databas och ladda en shapefil</a></p></li>
<li><p><a class="reference internal" href="#things-to-try" id="id5">Saker att prova</a></p></li>
<li><p><a class="reference internal" href="#what-next" id="id6">Hur vill du gå vidare?</a></p></li>
</ul>
</div>
<section id="start-spatialite-and-load-a-database">
<h2><a class="toc-backref" href="#id1">Starta Spatialite och ladda en databas</a><a class="headerlink" href="#start-spatialite-and-load-a-database" title="Permalink till denna rubrik">¶</a></h2>
<p>Spatialite-gui tillhandahåller ett visuellt gränssnitt för visning och underhåll av en spatialite-databas. Du kan enkelt se tabellernas struktur och datainnehåll med hjälp av peka och klicka-funktioner, varav många konstruerar vanliga SQL-frågor eller skapar dina egna SQL-frågor.</p>
<ol class="arabic">
<li><p>Öppna Spatialite GUI genom att välja <span class="menuselection">Geospatial ‣ Databases ‣ Spatialite GUI</span></p>
</li>
<li><p>Välj <span class="menuselection">File-&gt;Anslutning till en befintlig SQLite DB</span></p></li>
<li><p>Bläddra till katalogen <code class="file docutils literal notranslate"><span class="pre">/home/user/data/spatialite</span></code> och välj <code class="file docutils literal notranslate"><span class="pre">trento.sqlite</span></code>.</p>
<a class="reference internal image-reference" href="../../_images/spatialite-gui-trento.png"><img alt="../../_images/spatialite-gui-trento.png" src="../../_images/spatialite-gui-trento.png" style="width: 560.0px; height: 433.29999999999995px;" /></a>
</li>
<li><p>Högerklicka på tabellen MunicipalHallsView och välj ”Show Columns”</p>
<a class="reference internal image-reference" href="../../_images/spatialite-gui-columns.png"><img alt="../../_images/spatialite-gui-columns.png" src="../../_images/spatialite-gui-columns.png" style="width: 560.0px; height: 433.29999999999995px;" /></a>
</li>
<li><p>Du kommer att märka att displayen är uppdelad i 3 områden:</p>
<ul class="simple">
<li><p>Den vänstra panelen visar databasens hierarki, t.ex. en lista över tabeller och kolumner i tabellen. Högerklicka på element i den vänstra panelen för att välja från en lista med vanliga databasåtgärder.</p></li>
<li><p>Den övre högra panelen visar SQL för den åtgärd som valts. Du kan skriva in din egen anpassade SQL i den här panelen.</p></li>
<li><p>Den nedre högra panelen visar resultatet av SQL-frågan.</p></li>
</ul>
</li>
<li><p>Högerklicka på tabellen MunicipalHalls och välj ”Edit table rows” (Redigera tabellrader). Lägg märke till SQL-frågan som har skapats åt dig i den övre högra rutan och resultatet i den nedre högra rutan:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">ROWID</span><span class="p">,</span> <span class="s2">&quot;PK_UID&quot;</span><span class="p">,</span> <span class="s2">&quot;AREA&quot;</span><span class="p">,</span> <span class="s2">&quot;PERIMETER&quot;</span><span class="p">,</span> <span class="s2">&quot;COMU&quot;</span><span class="p">,</span> <span class="s2">&quot;Geometry&quot;</span>
    <span class="n">FROM</span> <span class="s2">&quot;MunicipalHalls&quot;</span>
    <span class="n">ORDER</span> <span class="n">BY</span> <span class="n">ROWID</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="run-an-sql-query">
<h2><a class="toc-backref" href="#id2">Kör en SQL-fråga</a><a class="headerlink" href="#run-an-sql-query" title="Permalink till denna rubrik">¶</a></h2>
<ol class="arabic">
<li><p>Låt oss nu försöka justera denna SQL-sats för att få NOME och (Lat,Long) för endast NOME_PROV-fälten inklusive ”BRESCIA”, den här gången med hjälp av MunicipalHallsView. I den övre högra SQL-rutan skriver du:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">NOME</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="n">Geometry</span><span class="p">)</span> <span class="n">AS</span> <span class="n">Longitude</span><span class="p">,</span> <span class="n">Y</span><span class="p">(</span><span class="n">Geometry</span><span class="p">)</span> <span class="n">AS</span> <span class="n">Latitude</span>
    <span class="n">FROM</span> <span class="s2">&quot;MunicipalHallsView&quot;</span>
    <span class="n">WHERE</span> <span class="n">NOME_PROV</span> <span class="n">LIKE</span> <span class="s2">&quot;BRESCIA&quot;</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p>Klicka på knappen ”Execute SQL” till höger och se resultatet i rutan längst ned till höger.</p>
<a class="reference internal image-reference" href="../../_images/spatialite-gui-select.png"><img alt="../../_images/spatialite-gui-select.png" src="../../_images/spatialite-gui-select.png" style="width: 560.0px; height: 433.29999999999995px;" /></a>
</li>
</ol>
</section>
<section id="run-spatialite-from-the-command-line">
<h2><a class="toc-backref" href="#id3">Kör spatialite från kommandoraden</a><a class="headerlink" href="#run-spatialite-from-the-command-line" title="Permalink till denna rubrik">¶</a></h2>
<p>Användare som behöver skript eller automatisera frågor kommer att lära sig fördelarna med att arbeta med en spatialite-databas från kommandoradsgränssnittet. I det här exemplet laddar vi en shapefil och söker efter skolor som ligger nära motorväg 42.</p>
<ol class="arabic">
<li><p>Innan vi arbetar från kommandoraden måste vi öppna ett terminalfönster: <span class="menuselection">Systemverktyg -&gt; LXTerminal</span>.</p></li>
<li><p>I terminalen öppnar du en exempeldatabas med <strong>spatialite</strong> genom att skriva:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">spatialite</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">spatialite</span><span class="o">/</span><span class="n">trento</span><span class="o">.</span><span class="n">sqlite</span>
</pre></div>
</div>
<p>Användbara kommandon från kommandoraden:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">help</span>
<span class="o">.</span><span class="n">tables</span>
<span class="o">.</span><span class="n">quit</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="create-a-new-spatialite-database-and-load-a-shapefile">
<h2><a class="toc-backref" href="#id4">Skapa en ny spatialite-databas och ladda en shapefil</a><a class="headerlink" href="#create-a-new-spatialite-database-and-load-a-shapefile" title="Permalink till denna rubrik">¶</a></h2>
<ol class="arabic">
<li><p>Låt oss skapa en ny, tom spatialite-databas och ladda två shapefiler från datasetet north_carolina:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>user@osgeo-6:~$ spatialite test.sqlite
SpatiaLite version ..: 5.0.0    Supported Extensions:
    - &#39;VirtualShape&#39;        [direct Shapefile access]
    - &#39;VirtualDbf&#39;          [direct DBF access]
    - &#39;VirtualText&#39;         [direct CSV/TXT access]
    - &#39;VirtualGeoJSON&#39;              [direct GeoJSON access]
    - &#39;VirtualXL&#39;           [direct XLS access]
    - &#39;VirtualNetwork&#39;      [Dijkstra shortest path - obsolete]
    - &#39;RTree&#39;               [Spatial Index - R*Tree]
    - &#39;MbrCache&#39;            [Spatial Index - MBR cache]
    - &#39;VirtualFDO&#39;          [FDO-OGR interoperability]
    - &#39;VirtualBBox&#39;         [BoundingBox tables]
    - &#39;VirtualSpatialIndex&#39; [R*Tree metahandler]
    - &#39;VirtualElementary&#39;   [ElemGeoms metahandler]
    - &#39;VirtualRouting&#39;      [Dijkstra shortest path - advanced]
    - &#39;VirtualKNN&#39;  [K-Nearest Neighbors metahandler]
    - &#39;VirtualGPKG&#39; [OGC GeoPackage interoperability]
    - &#39;SpatiaLite&#39;          [Spatial SQL - OGC]
    - &#39;VirtualXPath&#39;        [XML Path Language - XPath]
PROJ version ........: Rel. 6.3.1, February 10th, 2020
GEOS version ........: 3.9.0-CAPI-1.16.2
RTTOPO version ......: 1.1.0
TARGET CPU ..........: x86_64-linux-gnu
the SPATIAL_REF_SYS table already contains some row(s)
SQLite version ......: 3.31.1
Enter &quot;.help&quot; for instructions
SQLite version 3.31.1 2020-01-27 19:55:54
Enter &quot;.help&quot; for instructions
Enter SQL statements terminated with a &quot;;&quot;
spatialite&gt;
spatialite&gt; .loadshp data/north_carolina/shape/schools_wake schools utf-8 3358
spatialite&gt; .loadshp data/north_carolina/shape/roadsmajor roads utf-8 3358
</pre></div>
</div>
<p>Observera formatet på kommandot .loadshp: först shapefilen utan .shp-tillägget, sedan namnet på den nya spatialite-tabellen, därefter teckenkodningen och slutligen EPSG-koden för shapefilens CRS.</p>
</li>
<li><p>Nu ska vi söka efter skolor nära motorväg 42..:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">spatialite</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="n">s</span><span class="o">.</span><span class="n">NAMESHORT</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">ADDRNUMBER</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">ADDRROOT</span>
     <span class="o">...&gt;</span> <span class="n">FROM</span> <span class="n">schools</span> <span class="n">AS</span> <span class="n">s</span><span class="p">,</span> <span class="n">roads</span> <span class="n">AS</span> <span class="n">r</span>
     <span class="o">...&gt;</span> <span class="n">WHERE</span> <span class="n">r</span><span class="o">.</span><span class="n">ROAD_NAME</span> <span class="o">=</span> <span class="s2">&quot;NC-42&quot;</span> <span class="n">AND</span>
     <span class="o">...&gt;</span> <span class="n">ST_Distance</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">Geometry</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">Geometry</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">;</span>
<span class="n">FUQUAY</span><span class="o">-</span><span class="n">VARINA</span><span class="o">|</span><span class="mi">6600</span><span class="o">|</span><span class="n">Johnson</span> <span class="n">Pond</span> <span class="n">Rd</span>
<span class="n">WILLOW</span> <span class="n">SPRINGS</span><span class="o">|</span><span class="mi">6800</span><span class="o">|</span><span class="n">Dwight</span> <span class="n">Rowland</span> <span class="n">Rd</span>
<span class="n">FUQUAY</span><span class="o">-</span><span class="n">VARINA</span><span class="o">|</span><span class="mi">109</span><span class="o">|</span><span class="n">N</span> <span class="n">Ennis</span> <span class="n">St</span>
<span class="n">LINCOLN</span> <span class="n">HEIGHTS</span><span class="o">|</span><span class="mi">307</span><span class="o">|</span><span class="n">Bridge</span> <span class="n">St</span>
</pre></div>
</div>
</li>
<li><p>Slutligen matar vi ut frågan till en ”kommaseparerade värden”-textfil ”schools_rt42.txt” med följande kommandon:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">spatialite</span><span class="o">&gt;</span> <span class="o">.</span><span class="n">mode</span> <span class="n">csv</span>
<span class="n">spatialite</span><span class="o">&gt;</span> <span class="o">.</span><span class="n">output</span> <span class="s2">&quot;schools_rt42.txt&quot;</span>
<span class="n">spatialite</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="n">s</span><span class="o">.</span><span class="n">NAMESHORT</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">ADDRNUMBER</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">ADDRROOT</span>
    <span class="o">...&gt;</span> <span class="n">FROM</span> <span class="n">schools</span> <span class="n">AS</span> <span class="n">s</span><span class="p">,</span> <span class="n">roads</span> <span class="n">AS</span> <span class="n">r</span>
    <span class="o">...&gt;</span> <span class="n">WHERE</span> <span class="n">r</span><span class="o">.</span><span class="n">ROAD_NAME</span> <span class="o">=</span> <span class="s2">&quot;NC-42&quot;</span> <span class="n">AND</span>
    <span class="o">...&gt;</span> <span class="n">ST_Distance</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">Geometry</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">Geometry</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">;</span>
<span class="n">spatialite</span><span class="o">&gt;.</span><span class="n">q</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="things-to-try">
<h2><a class="toc-backref" href="#id5">Saker att prova</a><a class="headerlink" href="#things-to-try" title="Permalink till denna rubrik">¶</a></h2>
<p>Här är några ytterligare utmaningar som du kan prova:</p>
<ul class="simple">
<li><p>Inspektera geometrier med spatialite-gui</p></li>
<li><p>Öppna och redigera SpatiaLite-lager i QGIS</p></li>
</ul>
</section>
<section id="what-next">
<h2><a class="toc-backref" href="#id6">Hur vill du gå vidare?</a><a class="headerlink" href="#what-next" title="Permalink till denna rubrik">¶</a></h2>
<p>För att lära dig mer om SpatiaLite är en utgångspunkt <a class="reference external" href="https://www.gaia-gis.it/fossil/libspatialite/index">SpatiaLite-projektsidan</a>.</p>
<p>Se till att besöka handledningen <a class="reference external" href="http://www.gaia-gis.it/gaia-sins/spatialite-cookbook/index.html">Spatialite cookbook</a></p>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a> |   <a href="javascript:defaultRedirect('sv')">Svenska</a>
		</div>
	</font>
    </div>



        
        
<span style="font-size:85%;"><i><a href="../copyright.html">Copyright & Disclaimer</a></i></span>
        


  </body>
</html>