
<!DOCTYPE html>

<html lang="sv">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>pycsw Snabbstart &#8212; OSGeoLive 17.0 Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/overview.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/../_themes/overview/static/overview.css" />
    <script data-url_root="../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Sök" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="PyWPS" href="../overview/pywps_overview.html" />
    <link rel="prev" title="pycsw" href="../overview/pycsw_overview.html" />
	<script type="text/javascript" src="../../_static/osgeolive.js"></script>


  </head><body>

        
        
    <div class="header">
	<div class="banner"><a href="http://live.osgeo.org/"><img src="../../_images/osgeolive-banner.png"></a></div>
        <div class="nowrap">
            <ul id="top-nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../overview/overview.html">Contents</a></li>
              <li><a href="../download.html">Download</a></li>
              <li><a href="../metrics.html">Metrics</a></li>
              <li><a href="../sponsors.html">Sponsors</a></li>
              <li><a href="../contact.html">Contact Us</a></li>
            </ul>
        </div>
    </div>
    </div>
        


    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a> |   <a href="javascript:defaultRedirect('sv')">Svenska</a>
		</div>
	</font>
    </div>

  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <a class="reference external image-reference" href="https://pycsw.org/"><img alt="../../_images/logo_pycsw.png" class="align-right" src="../../_images/logo_pycsw.png" /></a>
<a class="reference external image-reference" href="https://www.osgeo.org"><img alt="../../_images/OSGeo_project.png" class="align-right" src="../../_images/OSGeo_project.png" /></a>
<section id="pycsw-quickstart">
<h1>pycsw Snabbstart<a class="headerlink" href="#pycsw-quickstart" title="Permalink till denna rubrik">¶</a></h1>
<p>pycsw är en OGC CSW-serverimplementering skriven i <a class="reference external" href="https://www.python.org">Python</a>. pycsw möjliggör publicering och upptäckt av geospatiala metadata. Befintliga arkiv med geospatiala metadata kan exponeras via OGC:CSW 2.0.2 eller OGC:CSW 3.0.0.</p>
<div class="contents local topic" id="contents">
<p class="topic-title">Innehåll</p>
<ul class="simple">
<li><p><a class="reference internal" href="#run-the-tester-application" id="id2">Kör testprogrammet</a></p></li>
<li><p><a class="reference internal" href="#understand-capabilities-and-configuration" id="id3">Förstå kapacitet och konfiguration</a></p></li>
<li><p><a class="reference internal" href="#create-metadata" id="id4">Skapa metadata</a></p></li>
<li><p><a class="reference internal" href="#load-metadata" id="id5">Ladda metadata</a></p>
<ul>
<li><p><a class="reference internal" href="#create-a-new-database" id="id6">Skapa en ny databas</a></p></li>
<li><p><a class="reference internal" href="#import-metadata" id="id7">Importera metadata</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#data-discovery-through-qgis-metasearch-plugin" id="id8">Upptäckt av data genom QGIS MetaSearch-plugin</a></p></li>
<li><p><a class="reference internal" href="#things-to-try" id="id9">Saker att prova</a></p></li>
<li><p><a class="reference internal" href="#what-next" id="id10">Hur vill du gå vidare?</a></p></li>
</ul>
</div>
<section id="run-the-tester-application">
<h2><a class="toc-backref" href="#id2">Kör testprogrammet</a><a class="headerlink" href="#run-the-tester-application" title="Permalink till denna rubrik">¶</a></h2>
<ol class="arabic">
<li><p>På skrivbordet går du till <cite>Web Services –&gt; pycsw</cite> eller öppna Firefox och navigera till <code class="docutils literal notranslate"><span class="pre">http://localhost/pycsw/tests/index.html</span></code>:</p>
<a class="reference internal image-reference" href="../../_images/pycsw_tester_startup.png"><img alt="../../_images/pycsw_tester_startup.png" src="../../_images/pycsw_tester_startup.png" style="width: 481.5px; height: 378.0px;" /></a>
</li>
</ol>
<blockquote>
<div><p>Genom att välja den vänstra listrutan kan användaren se olika fördefinierade POST-begäranden, kodade som XML, som kan skickas till pycsw.</p>
</div></blockquote>
<ol class="arabic" start="2">
<li><p>Välj ”apiso/DescribeRecord” och tryck på knappen ”Send”. En beskrivning av ISO Application Profile-record visas på den högra panelen.</p>
<a class="reference internal image-reference" href="../../_images/pycsw_tester_describe_apiso_record.png"><img alt="../../_images/pycsw_tester_describe_apiso_record.png" src="../../_images/pycsw_tester_describe_apiso_record.png" style="width: 746.25px; height: 408.75px;" /></a>
</li>
<li><p>Välj ”GetCapabilities-SOAP” och tryck på knappen ”Send”. En SOAP-begäran skickas till servern för att annonsera deras webbtjänstfunktioner.</p>
<a class="reference internal image-reference" href="../../_images/pycsw_tester_soap_capabillities.png"><img alt="../../_images/pycsw_tester_soap_capabillities.png" src="../../_images/pycsw_tester_soap_capabillities.png" style="width: 746.25px; height: 408.0px;" /></a>
</li>
<li><p>Du kan söka efter dataposter genom att utföra en spatial bounding box-fråga genom att välja ”GetRecords-filter-bbox” och redigera koordinaterna i XML-begäran.</p>
<a class="reference internal image-reference" href="../../_images/pycsw_tester_getrecords_bbox_filter.png"><img alt="../../_images/pycsw_tester_getrecords_bbox_filter.png" src="../../_images/pycsw_tester_getrecords_bbox_filter.png" style="width: 749.25px; height: 399.0px;" /></a>
</li>
</ol>
<p>Du kan gå igenom alla tillgängliga förfrågningar och utföra olika förfrågningar från denna testapplikation.</p>
</section>
<section id="understand-capabilities-and-configuration">
<h2><a class="toc-backref" href="#id3">Förstå kapacitet och konfiguration</a><a class="headerlink" href="#understand-capabilities-and-configuration" title="Permalink till denna rubrik">¶</a></h2>
<p>Funktionerna för pycsw-installationen finns på <code class="docutils literal notranslate"><span class="pre">http://localhost/pycsw?service=CSW&amp;version=2.0.2&amp;request=GetCapabilities</span></code>. Om du bara använder <code class="docutils literal notranslate"><span class="pre">http://localhost/pycsw</span></code> kommer du att få dokumentet med funktioner för CSW 3.0.0, eftersom det är den senaste versionen som stöds.</p>
<p>För att redigera metadata för webbtjänsten, som ingår i capabilities-dokumentet, kan du ändra filen <code class="docutils literal notranslate"><span class="pre">/etc/pycsw/default.cfg</span></code> under taggen <code class="docutils literal notranslate"><span class="pre">[metadata:main]</span></code>.</p>
<p>Om du vill aktivera stöd för INSPIRE Discovery Service ska du fylla i metadata under taggen <code class="docutils literal notranslate"><span class="pre">[metadata:inspire]</span></code> och ställa in egenskapen <code class="docutils literal notranslate"><span class="pre">enabled</span></code> till <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
<p>För fullständig funktionalitet och konfigurationsalternativ, se <a class="reference external" href="https://pycsw.org/docs/">dokumentation</a> på pycsws webbplats.</p>
</section>
<section id="create-metadata">
<h2><a class="toc-backref" href="#id4">Skapa metadata</a><a class="headerlink" href="#create-metadata" title="Permalink till denna rubrik">¶</a></h2>
<p>Metadatafiler för en spatial datamängd eller en spatial webbtjänst kan skapas med hjälp av öppen källkodsimplementeringen av inspire-direktivet för metadata, European Open Source Metadata Editor (EUOSME). Denna applikation kan hittas på <code class="docutils literal notranslate"><span class="pre">http://inspire-geoportal.ec.europa.eu/editor/</span></code>. Källkoden finns tillgänglig på <code class="docutils literal notranslate"><span class="pre">https://joinup.ec.europa.eu/svn/euosme/trunk</span></code></p>
<p>Du kan fylla i de obligatoriska metadatafälten genom att gå igenom programflikarna och lägga till information som namnet på dataägaren, nyckelord, resursens plats på webben, geografisk plats (med hjälp av en avgränsande ruta eller namnet på ett land) etc.</p>
<a class="reference internal image-reference" href="../../_images/pycsw_euosme_metadata_input.png"><img alt="../../_images/pycsw_euosme_metadata_input.png" src="../../_images/pycsw_euosme_metadata_input.png" style="width: 831.75px; height: 485.25px;" /></a>
<p>När du har lagt till all tillgänglig information trycker du på knappen <span class="guilabel">validation</span> högst upp på sidan för att kontrollera att den överensstämmer med INSPIRE-direktivet.</p>
<a class="reference internal image-reference" href="../../_images/pycsw_euosme_save_metadata.png"><img alt="../../_images/pycsw_euosme_save_metadata.png" src="../../_images/pycsw_euosme_save_metadata.png" style="width: 830.25px; height: 485.25px;" /></a>
<p>Efter en lyckad validering kan XML-filen sparas på den lokala disken och visas med en textredigerare eller en webbläsare.</p>
</section>
<section id="load-metadata">
<h2><a class="toc-backref" href="#id5">Ladda metadata</a><a class="headerlink" href="#load-metadata" title="Permalink till denna rubrik">¶</a></h2>
<p>pycsw stöder följande databaser:</p>
<ul class="simple">
<li><p>SQLite3</p></li>
<li><p>PostgreSQL (PostGIS valfritt)</p></li>
<li><p>MySQL</p></li>
</ul>
<p>I OSGeoLive har en enkel SQLite-installation implementerats. Databasen finns i <code class="docutils literal notranslate"><span class="pre">/usr/share/pycsw/tests/suites/cite/data/records.db</span></code></p>
<section id="create-a-new-database">
<h3><a class="toc-backref" href="#id6">Skapa en ny databas</a><a class="headerlink" href="#create-a-new-database" title="Permalink till denna rubrik">¶</a></h3>
<p>För att skapa en ny SQLite-databas måste vi göra följande:</p>
<ol class="arabic">
<li><p>Redigera <code class="docutils literal notranslate"><span class="pre">/etc/pycsw/default.cfg</span></code>:</p>
<p><strong>[förråd]</strong></p>
<ul class="simple">
<li><p><strong>database</strong>: den fullständiga filsökvägen till metadatabasen, i databasens URL-format (se <a class="reference external" href="https://docs.sqlalchemy.org/en/latest/core/engines.html#database-urls">https://docs.sqlalchemy.org/en/latest/core/engines.html#database-urls</a>)</p></li>
<li><p><strong>table</strong>: tabellnamnet för metadataposter (standard är <code class="docutils literal notranslate"><span class="pre">records</span></code>)</p></li>
</ul>
</li>
<li><p>Konfigurera databasen:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>pycsw-admin<span class="w"> </span>-c<span class="w"> </span>setup_db<span class="w"> </span>-f<span class="w"> </span>/etc/pycsw/default.cfg
</pre></div>
</div>
</li>
</ol>
<p>Detta kommer att skapa de nödvändiga tabellerna och värdena för förrådet.</p>
<p>Den databas som skapas är en databas som uppfyller kraven för SSFS och kan användas med alla programvaror. Till exempel för att användas med <a class="reference external" href="https://gdal.org/ogrinfo.html">OGR</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ogrinfo<span class="w"> </span>/path/to/records.db
INFO:<span class="w"> </span>Open<span class="w"> </span>of<span class="w"> </span><span class="s1">&#39;records.db&#39;</span>
using<span class="w"> </span>driver<span class="w"> </span><span class="s1">&#39;SQLite&#39;</span><span class="w"> </span>successful.
<span class="m">1</span>:<span class="w"> </span>records<span class="w"> </span><span class="o">(</span>Polygon<span class="o">)</span>
$<span class="w"> </span>ogrinfo<span class="w"> </span>-al<span class="w"> </span>/path/to/records.db
<span class="c1"># lots of output</span>
</pre></div>
</div>
</section>
<section id="import-metadata">
<h3><a class="toc-backref" href="#id7">Importera metadata</a><a class="headerlink" href="#import-metadata" title="Permalink till denna rubrik">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>pycsw-admin<span class="w"> </span>-c<span class="w"> </span>load_records<span class="w"> </span>-f<span class="w"> </span>/etc/pycsw/default.cfg<span class="w"> </span>-p<span class="w"> </span>/path/to/records<span class="w"> </span>-r
</pre></div>
</div>
<p>Detta kommer att importera alla <code class="docutils literal notranslate"><span class="pre">*.xml</span></code>-poster från <code class="docutils literal notranslate"><span class="pre">/path/to/records</span></code> till den nya databasen och konfigurera förrådet för att exponera queryables enligt tabell 53 i OGC:CSW.</p>
</section>
</section>
<section id="data-discovery-through-qgis-metasearch-plugin">
<h2><a class="toc-backref" href="#id8">Upptäckt av data genom QGIS MetaSearch-plugin</a><a class="headerlink" href="#data-discovery-through-qgis-metasearch-plugin" title="Permalink till denna rubrik">¶</a></h2>
<ol class="arabic simple">
<li><p>På skrivbordet går du till <cite>Desktop GIS –&gt; QGIS</cite> för att starta QGIS, klicka sedan på <span class="guilabel">MetaSearch</span>-knappen (CSW-ikonen)</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/pycsw_qgis_metasearch_open.png"><img alt="../../_images/pycsw_qgis_metasearch_open.png" src="../../_images/pycsw_qgis_metasearch_open.png" style="width: 501.75px; height: 466.5px;" /></a>
<ol class="arabic simple" start="2">
<li><p>Lägg till pycsw-servern genom att trycka på <span class="guilabel">New</span>-knappen och skriva in <code class="docutils literal notranslate"><span class="pre">http://localhost/pycsw/</span></code></p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/pycsw_qgis_metasearch_add.png"><img alt="../../_images/pycsw_qgis_metasearch_add.png" src="../../_images/pycsw_qgis_metasearch_add.png" style="width: 489.75px; height: 432.0px;" /></a>
<ol class="arabic simple" start="3">
<li><p>Lägg till några standardservrar med hjälp av knappen <span class="guilabel">Add default servers</span> och få information om serverns kapacitet med hjälp av knappen <span class="guilabel">Server info</span></p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/pycsw_qgis_metasearch_server_info.png"><img alt="../../_images/pycsw_qgis_metasearch_server_info.png" src="../../_images/pycsw_qgis_metasearch_server_info.png" style="width: 490.5px; height: 432.0px;" /></a>
<ol class="arabic simple" start="4">
<li><p>Utför en sökning med hjälp av katalogen, antingen med ett strängvärde eller med en avgränsande box</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/pycsw_qgis_metasearch_search.png"><img alt="../../_images/pycsw_qgis_metasearch_search.png" src="../../_images/pycsw_qgis_metasearch_search.png" style="width: 490.5px; height: 434.25px;" /></a>
</section>
<section id="things-to-try">
<h2><a class="toc-backref" href="#id9">Saker att prova</a><a class="headerlink" href="#things-to-try" title="Permalink till denna rubrik">¶</a></h2>
<ul class="simple">
<li><p>Försök att hitta data via Tester-programmet genom att ställa in lämpliga förfrågningar, t.ex. en textsökning med strängen ”imagery” leder till att xml-data som tidigare skapats av EUOSME hittas</p></li>
</ul>
<a class="reference internal image-reference" href="../../_images/pycsw_tester_discovery.png"><img alt="../../_images/pycsw_tester_discovery.png" src="../../_images/pycsw_tester_discovery.png" style="width: 786.75px; height: 342.0px;" /></a>
<ul class="simple">
<li><p>Försök att upptäcka data via Python-gränssnittet <a class="reference external" href="https://geopython.github.io/OWSLib/#csw">OWSLib CSW</a>.</p></li>
<li><p>Försök att hitta data från GeoNode, som också ingår i OSGeoLive och använder pycsw som standard CSW-motor.</p></li>
</ul>
</section>
<section id="what-next">
<h2><a class="toc-backref" href="#id10">Hur vill du gå vidare?</a><a class="headerlink" href="#what-next" title="Permalink till denna rubrik">¶</a></h2>
<p>För mer information om pycsw, se <a class="reference external" href="https://pycsw.org/docs/">documentation</a> på pycsws webbplats.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a> |   <a href="javascript:defaultRedirect('sv')">Svenska</a>
		</div>
	</font>
    </div>



        
        
<span style="font-size:85%;"><i><a href="../copyright.html">Copyright & Disclaimer</a></i></span>
        


  </body>
</html>